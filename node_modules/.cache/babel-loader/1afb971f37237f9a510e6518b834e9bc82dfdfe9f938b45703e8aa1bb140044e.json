{"ast":null,"code":"var _jsxFileName = \"/Users/hye/Documents/journal-whisper/src/Journal.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from \"react\";\nimport Calendar from \"react-calendar\";\nimport \"react-calendar/dist/Calendar.css\";\nimport logo from \"./assets/logo.png\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst PROXY_API_URL = window.location.hostname === \"localhost\" ? \"http://localhost:8090/transcribeAudio\" : \"https://journal-whisper.onrender.com/transcribeAudio\";\nconst formatDateLocal = date => {\n  const year = date.getFullYear();\n  const month = String(date.getMonth() + 1).padStart(2, \"0\");\n  const day = String(date.getDate()).padStart(2, \"0\");\n  return `${year}-${month}-${day}`;\n};\nexport default function Journal({\n  user,\n  onLogout\n}) {\n  _s();\n  const [entry, setEntry] = useState(\"\");\n  const [isRecording, setIsRecording] = useState(false);\n  const [showToast, setShowToast] = useState(false);\n  const [saveMessage, setSaveMessage] = useState(\"\");\n  const [currentTimestamp, setCurrentTimestamp] = useState({\n    date: \"\",\n    time: \"\"\n  });\n  const [countdown, setCountdown] = useState(0);\n  const [recordingDuration, setRecordingDuration] = useState(0);\n  const [selectedDate, setSelectedDate] = useState(new Date());\n  const [entriesForDate, setEntriesForDate] = useState([]);\n  const [localEntries, setLocalEntries] = useState({});\n  const [entriesCache, setEntriesCache] = useState({}); // Cache for fetched entries\n  const [saveAnimating, setSaveAnimating] = useState(false);\n  const [saveClickAnimating, setSaveClickAnimating] = useState(false);\n  const [isLoadingEntries, setIsLoadingEntries] = useState(false);\n\n  // New states for modal functionality\n  const [showModal, setShowModal] = useState(false);\n  const [modalEntries, setModalEntries] = useState([]);\n  const [modalDate, setModalDate] = useState(\"\");\n  const [isLoadingModal, setIsLoadingModal] = useState(false);\n  const mediaRecorderRef = useRef(null);\n  const audioChunksRef = useRef([]);\n  const countdownIntervalRef = useRef(null);\n  const generateTimestamp = () => {\n    const now = new Date();\n    return {\n      date: formatDateLocal(now),\n      time: now.toLocaleTimeString()\n    };\n  };\n  useEffect(() => {\n    setCurrentTimestamp(generateTimestamp());\n  }, []);\n  const fetchEntriesForDate = async (dateToFetch, forceRefresh = false) => {\n    const dateKey = formatDateLocal(dateToFetch);\n\n    // Check cache first (unless force refresh)\n    if (!forceRefresh && entriesCache[dateKey]) {\n      setEntriesForDate(entriesCache[dateKey]);\n      return;\n    }\n    setIsLoadingEntries(true);\n    const FETCH_API_URL = window.location.hostname === \"localhost\" ? \"http://localhost:8090/getEntries\" : \"https://journal-whisper.onrender.com/getEntries\";\n    try {\n      const response = await fetch(FETCH_API_URL, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          user,\n          date: dateKey\n        })\n      });\n      if (!response.ok) throw new Error(\"Failed to fetch entries\");\n      const data = await response.json();\n\n      // Sort entries by time in descending order (most recent first)\n      const sortedEntries = (data.entries || []).sort((a, b) => {\n        // Convert time strings to comparable format\n        const timeA = new Date(`1970-01-01 ${a.time}`);\n        const timeB = new Date(`1970-01-01 ${b.time}`);\n        return timeB - timeA; // Descending order\n      });\n\n      // Update cache and state\n      setEntriesCache(prev => ({\n        ...prev,\n        [dateKey]: sortedEntries\n      }));\n      setEntriesForDate(sortedEntries);\n    } catch (err) {\n      setEntriesForDate([]);\n      // Cache empty result to avoid repeated failed requests\n      setEntriesCache(prev => ({\n        ...prev,\n        [dateKey]: []\n      }));\n    } finally {\n      setIsLoadingEntries(false);\n    }\n  };\n\n  // New function to handle date clicks and show modal\n  const handleDateClick = async clickedDate => {\n    const dateKey = formatDateLocal(clickedDate);\n    setModalDate(dateKey);\n    setShowModal(true);\n    setIsLoadingModal(true);\n    const FETCH_API_URL = window.location.hostname === \"localhost\" ? \"http://localhost:8090/getEntries\" : \"https://journal-whisper.onrender.com/getEntries\";\n    try {\n      // Always fetch fresh data from server for modal to ensure we get all entries\n      const response = await fetch(FETCH_API_URL, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          user,\n          date: dateKey\n        })\n      });\n      if (!response.ok) throw new Error(\"Failed to fetch entries\");\n      const data = await response.json();\n\n      // Sort entries by time in descending order (most recent first)\n      const sortedEntries = (data.entries || []).sort((a, b) => {\n        const timeA = new Date(`1970-01-01 ${a.time}`);\n        const timeB = new Date(`1970-01-01 ${b.time}`);\n        return timeB - timeA;\n      });\n\n      // Update cache with fresh data\n      setEntriesCache(prev => ({\n        ...prev,\n        [dateKey]: sortedEntries\n      }));\n      setModalEntries(sortedEntries);\n\n      // If this is the same date as the currently selected date, update the main view as well\n      const selectedDateKey = formatDateLocal(selectedDate);\n      if (dateKey === selectedDateKey) {\n        setEntriesForDate(sortedEntries);\n      }\n    } catch (err) {\n      setModalEntries([]);\n      setEntriesCache(prev => ({\n        ...prev,\n        [dateKey]: []\n      }));\n    } finally {\n      setIsLoadingModal(false);\n    }\n  };\n  const closeModal = () => {\n    setShowModal(false);\n    setModalEntries([]);\n    setModalDate(\"\");\n  };\n  useEffect(() => {\n    fetchEntriesForDate(selectedDate);\n    setEntry(\"\");\n    setShowToast(false);\n    setSaveMessage(\"\");\n  }, [selectedDate, user]);\n  const startRecording = async durationSeconds => {\n    if (!navigator.mediaDevices || !navigator.mediaDevices.getUserMedia) {\n      setSaveMessage(\"Audio recording not supported in this browser.\");\n      setShowToast(true);\n      return;\n    }\n    try {\n      const stream = await navigator.mediaDevices.getUserMedia({\n        audio: true\n      });\n      const mediaRecorder = new MediaRecorder(stream);\n      mediaRecorderRef.current = mediaRecorder;\n      audioChunksRef.current = [];\n      setRecordingDuration(durationSeconds);\n      setCurrentTimestamp(generateTimestamp());\n      setCountdown(durationSeconds);\n      mediaRecorder.ondataavailable = event => {\n        if (event.data.size > 0) {\n          audioChunksRef.current.push(event.data);\n        }\n      };\n      mediaRecorder.onstart = () => {\n        setIsRecording(true);\n        setShowToast(true);\n        setSaveMessage(\"Recording in progress...\");\n        countdownIntervalRef.current = setInterval(() => {\n          setCountdown(prev => {\n            if (prev <= 1) {\n              stopRecording();\n              return 0;\n            }\n            return prev - 1;\n          });\n        }, 1000);\n      };\n      mediaRecorder.onstop = async () => {\n        clearInterval(countdownIntervalRef.current);\n        setCountdown(0);\n        setIsRecording(false);\n        setRecordingDuration(0);\n        setSaveMessage(\"\");\n        const audioBlob = new Blob(audioChunksRef.current, {\n          type: \"audio/webm\"\n        });\n        try {\n          const formData = new FormData();\n          formData.append(\"file\", audioBlob, \"recording.webm\");\n          formData.append(\"user\", user);\n          const response = await fetch(PROXY_API_URL, {\n            method: \"POST\",\n            body: formData\n          });\n          if (!response.ok) throw new Error(`Transcription failed: ${response.statusText}`);\n          const data = await response.json();\n          if (data.transcription) {\n            setEntry(data.transcription);\n            setSaveMessage(\"Transcription received. Please review and save manually.\");\n            setShowToast(true);\n          } else {\n            setSaveMessage(\"No transcription received.\");\n            setShowToast(true);\n          }\n        } catch (error) {\n          setSaveMessage(\"Error during transcription: \" + error.message);\n          setShowToast(true);\n        }\n      };\n      mediaRecorder.start();\n    } catch (err) {\n      setSaveMessage(\"Could not start recording: \" + err.message);\n      setShowToast(true);\n    }\n  };\n  const stopRecording = () => {\n    if (mediaRecorderRef.current && mediaRecorderRef.current.state !== \"inactive\") {\n      mediaRecorderRef.current.stop();\n    }\n    clearInterval(countdownIntervalRef.current);\n    setIsRecording(false);\n  };\n  const saveToGoogleSheet = async (date, time, text, username) => {\n    const SAVE_API_URL = window.location.hostname === \"localhost\" ? \"http://localhost:8090/saveEntry\" : \"https://journal-whisper.onrender.com/saveEntry\";\n    try {\n      const response = await fetch(SAVE_API_URL, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          date,\n          time,\n          entry: text,\n          user: username\n        })\n      });\n      if (!response.ok) throw new Error(\"Failed to save entry to Google Sheets\");\n      return await response.json();\n    } catch (error) {\n      setSaveMessage(\"Error saving to Google Sheets: \" + error.message);\n      setShowToast(true);\n      return null;\n    }\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (!entry.trim()) {\n      setSaveMessage(\"Please enter something before saving.\");\n      setShowToast(true);\n      return;\n    }\n\n    // Animate click: scale down quickly then back up\n    setSaveClickAnimating(true);\n    setTimeout(() => setSaveClickAnimating(false), 150);\n    const result = await saveToGoogleSheet(currentTimestamp.date, currentTimestamp.time, entry, user);\n    if (result) {\n      setSaveAnimating(true);\n      setTimeout(() => setSaveAnimating(false), 500);\n      setSaveMessage(\"Journal entry saved successfully!\");\n      setShowToast(true);\n\n      // Add the new entry to the current entries list at the top (most recent first)\n      const newEntry = {\n        time: currentTimestamp.time,\n        entry: entry\n      };\n      const savedDate = new Date(currentTimestamp.date + \"T00:00:00\");\n      const currentDateKey = formatDateLocal(savedDate);\n\n      // Always update the cache with the new entry\n      const updatedEntries = [newEntry, ...(entriesCache[currentDateKey] || [])];\n      setEntriesCache(prev => ({\n        ...prev,\n        [currentDateKey]: updatedEntries\n      }));\n\n      // Update the displayed entries if we're viewing the same date as we're saving to\n      const selectedDateKey = formatDateLocal(selectedDate);\n      if (currentDateKey === selectedDateKey) {\n        setEntriesForDate(updatedEntries);\n      } else {\n        // If saving to a different date, switch to that date\n        setSelectedDate(savedDate);\n      }\n      setEntry(\"\");\n      setCurrentTimestamp(generateTimestamp());\n      setLocalEntries(prev => ({\n        ...prev,\n        [currentDateKey]: entry\n      }));\n    } else {\n      setSaveMessage(\"Failed to save entry. Please try again.\");\n      setShowToast(true);\n    }\n  };\n  const handleRefreshTime = () => {\n    setCurrentTimestamp(generateTimestamp());\n    setSaveMessage(\"\");\n  };\n  useEffect(() => {\n    return () => {\n      if (mediaRecorderRef.current && mediaRecorderRef.current.state !== \"inactive\") {\n        mediaRecorderRef.current.stop();\n      }\n      clearInterval(countdownIntervalRef.current);\n    };\n  }, []);\n  useEffect(() => {\n    if (saveMessage) {\n      const timer = setTimeout(() => setSaveMessage(\"\"), 6000);\n      return () => clearTimeout(timer);\n    }\n  }, [saveMessage]);\n  const getButtonProgress = () => {\n    if (recordingDuration === 0) return \"0%\";\n    const percent = (recordingDuration - countdown) / recordingDuration * 100;\n    return `${percent}%`;\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      minHeight: \"100vh\",\n      backgroundColor: \"#FFF8E7\",\n      padding: \"2rem\",\n      fontFamily: \"sans-serif\",\n      maxWidth: 700,\n      margin: \"auto\",\n      color: \"#222\"\n    },\n    children: [showToast && saveMessage && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: \"fixed\",\n        top: \"40px\",\n        left: \"50%\",\n        transform: \"translateX(-50%)\",\n        backgroundColor: \"#333\",\n        color: \"white\",\n        padding: \"10px 20px\",\n        borderRadius: \"20px\",\n        boxShadow: \"0 2px 10px rgba(0,0,0,0.7)\",\n        zIndex: 9999,\n        fontSize: \"1rem\",\n        opacity: 0.9,\n        userSelect: \"none\"\n      },\n      \"aria-live\": \"polite\",\n      children: saveMessage\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 403,\n      columnNumber: 9\n    }, this), showModal && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: \"fixed\",\n        top: 0,\n        left: 0,\n        right: 0,\n        bottom: 0,\n        backgroundColor: \"rgba(0, 0, 0, 0.7)\",\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        zIndex: 10000,\n        padding: \"2rem\"\n      },\n      onClick: closeModal,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          backgroundColor: \"#FFF8E7\",\n          borderRadius: \"12px\",\n          padding: \"2rem\",\n          maxWidth: \"600px\",\n          maxHeight: \"80vh\",\n          overflowY: \"auto\",\n          boxShadow: \"0 10px 30px rgba(0, 0, 0, 0.3)\",\n          position: \"relative\"\n        },\n        onClick: e => e.stopPropagation(),\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: closeModal,\n          style: {\n            position: \"absolute\",\n            top: \"1rem\",\n            right: \"1rem\",\n            background: \"none\",\n            border: \"none\",\n            fontSize: \"1.5rem\",\n            cursor: \"pointer\",\n            color: \"#666\",\n            padding: \"0.5rem\",\n            borderRadius: \"50%\",\n            width: \"40px\",\n            height: \"40px\",\n            display: \"flex\",\n            alignItems: \"center\",\n            justifyContent: \"center\"\n          },\n          title: \"Close\",\n          children: \"\\xD7\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 457,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          style: {\n            marginTop: 0,\n            marginBottom: \"1.5rem\",\n            color: \"#333\"\n          },\n          children: [\"\\uD83D\\uDCC5 Entries for \", modalDate]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 481,\n          columnNumber: 13\n        }, this), isLoadingModal ? /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            textAlign: \"center\",\n            color: \"#666\",\n            fontStyle: \"italic\",\n            padding: \"2rem\"\n          },\n          children: \"Loading entries...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 486,\n          columnNumber: 15\n        }, this) : modalEntries.length > 0 ? /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontSize: \"0.9rem\",\n              color: \"#666\",\n              marginBottom: \"1rem\",\n              fontStyle: \"italic\"\n            },\n            children: [modalEntries.length, \" \", modalEntries.length === 1 ? \"entry\" : \"entries\", \" found\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 498,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              maxHeight: \"400px\",\n              overflowY: \"auto\"\n            },\n            children: modalEntries.map(({\n              time,\n              entry\n            }, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                marginBottom: \"1.5rem\",\n                padding: \"1rem\",\n                backgroundColor: \"#f9f9f9\",\n                borderRadius: \"8px\",\n                border: \"1px solid #ddd\"\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontWeight: \"bold\",\n                  fontSize: \"0.9rem\",\n                  marginBottom: \"0.5rem\",\n                  color: \"#555\",\n                  borderBottom: \"1px solid #eee\",\n                  paddingBottom: \"0.25rem\"\n                },\n                children: [\"\\uD83D\\uDD52 \", time]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 520,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  whiteSpace: \"pre-wrap\",\n                  paddingTop: \"0.5rem\",\n                  lineHeight: \"1.5\"\n                },\n                children: entry\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 532,\n                columnNumber: 23\n              }, this)]\n            }, `${time}-${index}`, true, {\n              fileName: _jsxFileName,\n              lineNumber: 510,\n              columnNumber: 21\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 508,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true) : /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            textAlign: \"center\",\n            color: \"#666\",\n            fontStyle: \"italic\",\n            padding: \"2rem\"\n          },\n          children: \"No entries found for this date.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 546,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 443,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 427,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: \"flex\",\n        justifyContent: \"space-between\",\n        alignItems: \"center\",\n        marginBottom: \"1rem\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: logo,\n        alt: \"My Logo\",\n        style: {\n          maxWidth: \"150px\",\n          height: \"auto\"\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 569,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"User:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 575,\n          columnNumber: 11\n        }, this), \" \", user, /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onLogout,\n          style: {\n            marginLeft: \"1rem\",\n            padding: \"0.3rem 0.75rem\",\n            fontSize: \"1rem\",\n            cursor: \"pointer\",\n            borderRadius: \"6px\",\n            border: \"1px solid #888\",\n            backgroundColor: \"#f0f0f0\",\n            color: \"#333\"\n          },\n          children: \"Logout\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 576,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 574,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 561,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: \"flex\",\n        gap: \"1rem\",\n        marginBottom: \"1rem\",\n        justifyContent: \"center\"\n      },\n      children: [{\n        label: \"30s\",\n        duration: 30\n      }, {\n        label: \"60s\",\n        duration: 60\n      }, {\n        label: \"180s\",\n        duration: 180\n      }].map(({\n        label,\n        duration\n      }) => {\n        const isActive = isRecording && recordingDuration === duration;\n        return /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            if (isActive) {\n              stopRecording();\n            } else if (!isRecording) {\n              startRecording(duration);\n            }\n          },\n          disabled: isRecording && recordingDuration !== duration,\n          style: {\n            position: \"relative\",\n            height: \"60px\",\n            width: \"60px\",\n            borderRadius: isActive ? \"8px\" : \"50%\",\n            border: \"none\",\n            backgroundColor: isActive ? \"#FF0000\" : \"#FFD700\",\n            color: \"#000\",\n            fontSize: \"0.9rem\",\n            fontWeight: \"bold\",\n            boxShadow: isActive ? \"0 0 10px #ff4444\" : \"none\",\n            cursor: isRecording && recordingDuration !== duration ? \"not-allowed\" : \"pointer\",\n            transition: \"all 0.3s ease\",\n            userSelect: \"none\"\n          },\n          title: label,\n          children: [!isActive && label, isActive && /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              position: \"absolute\",\n              bottom: 0,\n              left: 0,\n              height: \"8px\",\n              background: \"#27ae60\",\n              width: getButtonProgress(),\n              transition: \"width 0.3s ease\",\n              borderRadius: \"0 0 8px 8px\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 642,\n            columnNumber: 17\n          }, this)]\n        }, label, true, {\n          fileName: _jsxFileName,\n          lineNumber: 610,\n          columnNumber: 13\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 595,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        textAlign: \"center\",\n        marginBottom: \"1rem\",\n        fontSize: \"1.1rem\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        children: [\"\\uD83D\\uDCC5 \", currentTimestamp.date, \" \\uD83D\\uDD52 \", currentTimestamp.time]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 668,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleRefreshTime,\n        style: {\n          marginLeft: \"1rem\",\n          padding: \"0.3rem 0.75rem\",\n          fontSize: \"0.9rem\",\n          cursor: \"pointer\",\n          borderRadius: \"6px\",\n          border: \"1px solid #888\",\n          backgroundColor: \"#f0f0f0\",\n          color: \"#333\"\n        },\n        title: \"Refresh timestamp\",\n        children: \"Refresh Time\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 671,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 661,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n        placeholder: \"Write your journal entry here...\",\n        value: entry,\n        onChange: e => setEntry(e.target.value),\n        style: {\n          width: \"100%\",\n          height: \"150px\",\n          fontSize: \"1rem\",\n          padding: \"0.75rem\",\n          borderRadius: 8,\n          border: \"1px solid #ccc\",\n          resize: \"vertical\",\n          marginBottom: \"1rem\",\n          fontFamily: \"inherit\"\n        },\n        disabled: isRecording\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 690,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          textAlign: \"right\"\n        },\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          disabled: isRecording,\n          style: {\n            padding: \"0.6rem 1.5rem\",\n            fontSize: \"1rem\",\n            backgroundColor: saveAnimating ? \"#2ecc71\" : \"#27ae60\",\n            transform: saveAnimating ? \"scale(1.05)\" : saveClickAnimating ? \"scale(0.95)\" : \"scale(1)\",\n            transition: \"transform 0.15s ease\",\n            color: \"white\",\n            border: \"none\",\n            borderRadius: \"8px\",\n            cursor: isRecording ? \"not-allowed\" : \"pointer\",\n            userSelect: \"none\",\n            fontWeight: \"600\"\n          },\n          children: \"Save Entry\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 708,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 707,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 689,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"hr\", {\n      style: {\n        margin: \"2rem 0\",\n        borderColor: \"#ccc\"\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 734,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      style: {\n        textAlign: \"center\",\n        marginBottom: \"1rem\"\n      },\n      children: \"\\uD83D\\uDCC5 Journal Calendar\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 735,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        textAlign: \"center\",\n        marginBottom: \"1rem\",\n        fontSize: \"0.9rem\",\n        color: \"#666\",\n        fontStyle: \"italic\"\n      },\n      children: \"\\uD83D\\uDCA1 Click on any date to view all entries for that day\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 739,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: \"flex\",\n        justifyContent: \"center\"\n      },\n      children: /*#__PURE__*/_jsxDEV(Calendar, {\n        onChange: date => {\n          setSelectedDate(date);\n          setShowToast(false);\n          setSaveMessage(\"\");\n        },\n        onClickDay: handleDateClick,\n        value: selectedDate,\n        locale: \"en-US\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 750,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 749,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: \"1rem\",\n        padding: \"1rem\",\n        backgroundColor: \"#f9f9f9\",\n        borderRadius: \"8px\",\n        border: \"1px solid #ccc\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: [\"Entries for \", formatDateLocal(selectedDate), \":\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 772,\n        columnNumber: 9\n      }, this), isLoadingEntries ? /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          textAlign: \"center\",\n          color: \"#666\",\n          fontStyle: \"italic\",\n          padding: \"1rem\"\n        },\n        children: \"Loading entries...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 775,\n        columnNumber: 11\n      }, this) : entriesForDate.length > 0 ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            fontSize: \"0.9rem\",\n            color: \"#666\",\n            marginBottom: \"1rem\",\n            fontStyle: \"italic\"\n          },\n          children: [\"(\", entriesForDate.length, \" \", entriesForDate.length === 1 ? 'entry' : 'entries', \" found - Most Recent First)\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 785,\n          columnNumber: 13\n        }, this), entriesForDate.map(({\n          time,\n          entry\n        }, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginBottom: \"1rem\",\n            borderBottom: index < entriesForDate.length - 1 ? \"1px solid #ddd\" : \"none\",\n            paddingBottom: \"0.5rem\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontWeight: \"bold\",\n              fontSize: \"0.9rem\",\n              marginBottom: \"0.5rem\",\n              color: \"#555\",\n              borderBottom: \"1px solid #eee\",\n              paddingBottom: \"0.25rem\"\n            },\n            children: time\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 802,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              whiteSpace: \"pre-wrap\",\n              paddingTop: \"0.25rem\",\n              lineHeight: \"1.4\"\n            },\n            children: entry\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 814,\n            columnNumber: 17\n          }, this)]\n        }, `${time}-${index}`, true, {\n          fileName: _jsxFileName,\n          lineNumber: 794,\n          columnNumber: 15\n        }, this))]\n      }, void 0, true) : /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          textAlign: \"center\",\n          color: \"#666\",\n          fontStyle: \"italic\",\n          padding: \"1rem\"\n        },\n        children: \"No entries found for this date.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 825,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 763,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 391,\n    columnNumber: 5\n  }, this);\n}\n_s(Journal, \"me8JWWM93G9faonrAu3wBBZ8yok=\");\n_c = Journal;\nvar _c;\n$RefreshReg$(_c, \"Journal\");","map":{"version":3,"names":["React","useState","useEffect","useRef","Calendar","logo","jsxDEV","_jsxDEV","Fragment","_Fragment","PROXY_API_URL","window","location","hostname","formatDateLocal","date","year","getFullYear","month","String","getMonth","padStart","day","getDate","Journal","user","onLogout","_s","entry","setEntry","isRecording","setIsRecording","showToast","setShowToast","saveMessage","setSaveMessage","currentTimestamp","setCurrentTimestamp","time","countdown","setCountdown","recordingDuration","setRecordingDuration","selectedDate","setSelectedDate","Date","entriesForDate","setEntriesForDate","localEntries","setLocalEntries","entriesCache","setEntriesCache","saveAnimating","setSaveAnimating","saveClickAnimating","setSaveClickAnimating","isLoadingEntries","setIsLoadingEntries","showModal","setShowModal","modalEntries","setModalEntries","modalDate","setModalDate","isLoadingModal","setIsLoadingModal","mediaRecorderRef","audioChunksRef","countdownIntervalRef","generateTimestamp","now","toLocaleTimeString","fetchEntriesForDate","dateToFetch","forceRefresh","dateKey","FETCH_API_URL","response","fetch","method","headers","body","JSON","stringify","ok","Error","data","json","sortedEntries","entries","sort","a","b","timeA","timeB","prev","err","handleDateClick","clickedDate","selectedDateKey","closeModal","startRecording","durationSeconds","navigator","mediaDevices","getUserMedia","stream","audio","mediaRecorder","MediaRecorder","current","ondataavailable","event","size","push","onstart","setInterval","stopRecording","onstop","clearInterval","audioBlob","Blob","type","formData","FormData","append","statusText","transcription","error","message","start","state","stop","saveToGoogleSheet","text","username","SAVE_API_URL","handleSubmit","e","preventDefault","trim","setTimeout","result","newEntry","savedDate","currentDateKey","updatedEntries","handleRefreshTime","timer","clearTimeout","getButtonProgress","percent","style","minHeight","backgroundColor","padding","fontFamily","maxWidth","margin","color","children","position","top","left","transform","borderRadius","boxShadow","zIndex","fontSize","opacity","userSelect","fileName","_jsxFileName","lineNumber","columnNumber","right","bottom","display","justifyContent","alignItems","onClick","maxHeight","overflowY","stopPropagation","background","border","cursor","width","height","title","marginTop","marginBottom","textAlign","fontStyle","length","map","index","fontWeight","borderBottom","paddingBottom","whiteSpace","paddingTop","lineHeight","src","alt","marginLeft","gap","label","duration","isActive","disabled","transition","onSubmit","placeholder","value","onChange","target","resize","borderColor","onClickDay","locale","_c","$RefreshReg$"],"sources":["/Users/hye/Documents/journal-whisper/src/Journal.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\nimport Calendar from \"react-calendar\";\nimport \"react-calendar/dist/Calendar.css\";\nimport logo from \"./assets/logo.png\";\n\nconst PROXY_API_URL =\n  window.location.hostname === \"localhost\"\n    ? \"http://localhost:8090/transcribeAudio\"\n    : \"https://journal-whisper.onrender.com/transcribeAudio\";\n\nconst formatDateLocal = (date) => {\n  const year = date.getFullYear();\n  const month = String(date.getMonth() + 1).padStart(2, \"0\");\n  const day = String(date.getDate()).padStart(2, \"0\");\n  return `${year}-${month}-${day}`;\n};\n\nexport default function Journal({ user, onLogout }) {\n  const [entry, setEntry] = useState(\"\");\n  const [isRecording, setIsRecording] = useState(false);\n  const [showToast, setShowToast] = useState(false);\n  const [saveMessage, setSaveMessage] = useState(\"\");\n  const [currentTimestamp, setCurrentTimestamp] = useState({\n    date: \"\",\n    time: \"\",\n  });\n  const [countdown, setCountdown] = useState(0);\n  const [recordingDuration, setRecordingDuration] = useState(0);\n  const [selectedDate, setSelectedDate] = useState(new Date());\n  const [entriesForDate, setEntriesForDate] = useState([]);\n  const [localEntries, setLocalEntries] = useState({});\n  const [entriesCache, setEntriesCache] = useState({}); // Cache for fetched entries\n  const [saveAnimating, setSaveAnimating] = useState(false);\n  const [saveClickAnimating, setSaveClickAnimating] = useState(false);\n  const [isLoadingEntries, setIsLoadingEntries] = useState(false);\n  \n  // New states for modal functionality\n  const [showModal, setShowModal] = useState(false);\n  const [modalEntries, setModalEntries] = useState([]);\n  const [modalDate, setModalDate] = useState(\"\");\n  const [isLoadingModal, setIsLoadingModal] = useState(false);\n\n  const mediaRecorderRef = useRef(null);\n  const audioChunksRef = useRef([]);\n  const countdownIntervalRef = useRef(null);\n\n  const generateTimestamp = () => {\n    const now = new Date();\n    return {\n      date: formatDateLocal(now),\n      time: now.toLocaleTimeString(),\n    };\n  };\n\n  useEffect(() => {\n    setCurrentTimestamp(generateTimestamp());\n  }, []);\n\n  const fetchEntriesForDate = async (dateToFetch, forceRefresh = false) => {\n    const dateKey = formatDateLocal(dateToFetch);\n    \n    // Check cache first (unless force refresh)\n    if (!forceRefresh && entriesCache[dateKey]) {\n      setEntriesForDate(entriesCache[dateKey]);\n      return;\n    }\n\n    setIsLoadingEntries(true);\n\n    const FETCH_API_URL =\n      window.location.hostname === \"localhost\"\n        ? \"http://localhost:8090/getEntries\"\n        : \"https://journal-whisper.onrender.com/getEntries\";\n\n    try {\n      const response = await fetch(FETCH_API_URL, {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({\n          user,\n          date: dateKey,\n        }),\n      });\n      if (!response.ok) throw new Error(\"Failed to fetch entries\");\n      const data = await response.json();\n      \n      // Sort entries by time in descending order (most recent first)\n      const sortedEntries = (data.entries || []).sort((a, b) => {\n        // Convert time strings to comparable format\n        const timeA = new Date(`1970-01-01 ${a.time}`);\n        const timeB = new Date(`1970-01-01 ${b.time}`);\n        return timeB - timeA; // Descending order\n      });\n      \n      // Update cache and state\n      setEntriesCache(prev => ({\n        ...prev,\n        [dateKey]: sortedEntries\n      }));\n      setEntriesForDate(sortedEntries);\n    } catch (err) {\n      setEntriesForDate([]);\n      // Cache empty result to avoid repeated failed requests\n      setEntriesCache(prev => ({\n        ...prev,\n        [dateKey]: []\n      }));\n    } finally {\n      setIsLoadingEntries(false);\n    }\n  };\n\n  // New function to handle date clicks and show modal\n  const handleDateClick = async (clickedDate) => {\n    const dateKey = formatDateLocal(clickedDate);\n    setModalDate(dateKey);\n    setShowModal(true);\n    setIsLoadingModal(true);\n\n    const FETCH_API_URL =\n      window.location.hostname === \"localhost\"\n        ? \"http://localhost:8090/getEntries\"\n        : \"https://journal-whisper.onrender.com/getEntries\";\n\n    try {\n      // Always fetch fresh data from server for modal to ensure we get all entries\n      const response = await fetch(FETCH_API_URL, {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({\n          user,\n          date: dateKey,\n        }),\n      });\n      if (!response.ok) throw new Error(\"Failed to fetch entries\");\n      const data = await response.json();\n      \n      // Sort entries by time in descending order (most recent first)\n      const sortedEntries = (data.entries || []).sort((a, b) => {\n        const timeA = new Date(`1970-01-01 ${a.time}`);\n        const timeB = new Date(`1970-01-01 ${b.time}`);\n        return timeB - timeA;\n      });\n      \n      // Update cache with fresh data\n      setEntriesCache(prev => ({\n        ...prev,\n        [dateKey]: sortedEntries\n      }));\n      setModalEntries(sortedEntries);\n      \n      // If this is the same date as the currently selected date, update the main view as well\n      const selectedDateKey = formatDateLocal(selectedDate);\n      if (dateKey === selectedDateKey) {\n        setEntriesForDate(sortedEntries);\n      }\n    } catch (err) {\n      setModalEntries([]);\n      setEntriesCache(prev => ({\n        ...prev,\n        [dateKey]: []\n      }));\n    } finally {\n      setIsLoadingModal(false);\n    }\n  };\n\n  const closeModal = () => {\n    setShowModal(false);\n    setModalEntries([]);\n    setModalDate(\"\");\n  };\n\n  useEffect(() => {\n    fetchEntriesForDate(selectedDate);\n    setEntry(\"\");\n    setShowToast(false);\n    setSaveMessage(\"\");\n  }, [selectedDate, user]);\n\n  const startRecording = async (durationSeconds) => {\n    if (!navigator.mediaDevices || !navigator.mediaDevices.getUserMedia) {\n      setSaveMessage(\"Audio recording not supported in this browser.\");\n      setShowToast(true);\n      return;\n    }\n    try {\n      const stream = await navigator.mediaDevices.getUserMedia({ audio: true });\n      const mediaRecorder = new MediaRecorder(stream);\n      mediaRecorderRef.current = mediaRecorder;\n      audioChunksRef.current = [];\n\n      setRecordingDuration(durationSeconds);\n      setCurrentTimestamp(generateTimestamp());\n      setCountdown(durationSeconds);\n\n      mediaRecorder.ondataavailable = (event) => {\n        if (event.data.size > 0) {\n          audioChunksRef.current.push(event.data);\n        }\n      };\n\n      mediaRecorder.onstart = () => {\n        setIsRecording(true);\n        setShowToast(true);\n        setSaveMessage(\"Recording in progress...\");\n        countdownIntervalRef.current = setInterval(() => {\n          setCountdown((prev) => {\n            if (prev <= 1) {\n              stopRecording();\n              return 0;\n            }\n            return prev - 1;\n          });\n        }, 1000);\n      };\n\n      mediaRecorder.onstop = async () => {\n        clearInterval(countdownIntervalRef.current);\n        setCountdown(0);\n        setIsRecording(false);\n        setRecordingDuration(0);\n        setSaveMessage(\"\");\n\n        const audioBlob = new Blob(audioChunksRef.current, {\n          type: \"audio/webm\",\n        });\n        try {\n          const formData = new FormData();\n          formData.append(\"file\", audioBlob, \"recording.webm\");\n          formData.append(\"user\", user);\n\n          const response = await fetch(PROXY_API_URL, {\n            method: \"POST\",\n            body: formData,\n          });\n\n          if (!response.ok)\n            throw new Error(`Transcription failed: ${response.statusText}`);\n\n          const data = await response.json();\n          if (data.transcription) {\n            setEntry(data.transcription);\n            setSaveMessage(\n              \"Transcription received. Please review and save manually.\"\n            );\n            setShowToast(true);\n          } else {\n            setSaveMessage(\"No transcription received.\");\n            setShowToast(true);\n          }\n        } catch (error) {\n          setSaveMessage(\"Error during transcription: \" + error.message);\n          setShowToast(true);\n        }\n      };\n\n      mediaRecorder.start();\n    } catch (err) {\n      setSaveMessage(\"Could not start recording: \" + err.message);\n      setShowToast(true);\n    }\n  };\n\n  const stopRecording = () => {\n    if (\n      mediaRecorderRef.current &&\n      mediaRecorderRef.current.state !== \"inactive\"\n    ) {\n      mediaRecorderRef.current.stop();\n    }\n    clearInterval(countdownIntervalRef.current);\n    setIsRecording(false);\n  };\n\n  const saveToGoogleSheet = async (date, time, text, username) => {\n    const SAVE_API_URL =\n      window.location.hostname === \"localhost\"\n        ? \"http://localhost:8090/saveEntry\"\n        : \"https://journal-whisper.onrender.com/saveEntry\";\n\n    try {\n      const response = await fetch(SAVE_API_URL, {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({ date, time, entry: text, user: username }),\n      });\n      if (!response.ok)\n        throw new Error(\"Failed to save entry to Google Sheets\");\n      return await response.json();\n    } catch (error) {\n      setSaveMessage(\"Error saving to Google Sheets: \" + error.message);\n      setShowToast(true);\n      return null;\n    }\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    if (!entry.trim()) {\n      setSaveMessage(\"Please enter something before saving.\");\n      setShowToast(true);\n      return;\n    }\n\n    // Animate click: scale down quickly then back up\n    setSaveClickAnimating(true);\n    setTimeout(() => setSaveClickAnimating(false), 150);\n\n    const result = await saveToGoogleSheet(\n      currentTimestamp.date,\n      currentTimestamp.time,\n      entry,\n      user\n    );\n    if (result) {\n      setSaveAnimating(true);\n      setTimeout(() => setSaveAnimating(false), 500);\n      setSaveMessage(\"Journal entry saved successfully!\");\n      setShowToast(true);\n\n      // Add the new entry to the current entries list at the top (most recent first)\n      const newEntry = {\n        time: currentTimestamp.time,\n        entry: entry,\n      };\n      \n      const savedDate = new Date(currentTimestamp.date + \"T00:00:00\");\n      const currentDateKey = formatDateLocal(savedDate);\n      \n      // Always update the cache with the new entry\n      const updatedEntries = [newEntry, ...(entriesCache[currentDateKey] || [])];\n      setEntriesCache(prev => ({\n        ...prev,\n        [currentDateKey]: updatedEntries\n      }));\n      \n      // Update the displayed entries if we're viewing the same date as we're saving to\n      const selectedDateKey = formatDateLocal(selectedDate);\n      if (currentDateKey === selectedDateKey) {\n        setEntriesForDate(updatedEntries);\n      } else {\n        // If saving to a different date, switch to that date\n        setSelectedDate(savedDate);\n      }\n\n      setEntry(\"\");\n      setCurrentTimestamp(generateTimestamp());\n\n      setLocalEntries((prev) => ({\n        ...prev,\n        [currentDateKey]: entry,\n      }));\n    } else {\n      setSaveMessage(\"Failed to save entry. Please try again.\");\n      setShowToast(true);\n    }\n  };\n\n  const handleRefreshTime = () => {\n    setCurrentTimestamp(generateTimestamp());\n    setSaveMessage(\"\");\n  };\n\n  useEffect(() => {\n    return () => {\n      if (\n        mediaRecorderRef.current &&\n        mediaRecorderRef.current.state !== \"inactive\"\n      ) {\n        mediaRecorderRef.current.stop();\n      }\n      clearInterval(countdownIntervalRef.current);\n    };\n  }, []);\n\n  useEffect(() => {\n    if (saveMessage) {\n      const timer = setTimeout(() => setSaveMessage(\"\"), 6000);\n      return () => clearTimeout(timer);\n    }\n  }, [saveMessage]);\n\n  const getButtonProgress = () => {\n    if (recordingDuration === 0) return \"0%\";\n    const percent = ((recordingDuration - countdown) / recordingDuration) * 100;\n    return `${percent}%`;\n  };\n\n  return (\n    <div\n      style={{\n        minHeight: \"100vh\",\n        backgroundColor: \"#FFF8E7\",\n        padding: \"2rem\",\n        fontFamily: \"sans-serif\",\n        maxWidth: 700,\n        margin: \"auto\",\n        color: \"#222\",\n      }}\n    >\n      {showToast && saveMessage && (\n        <div\n          style={{\n            position: \"fixed\",\n            top: \"40px\",\n            left: \"50%\",\n            transform: \"translateX(-50%)\",\n            backgroundColor: \"#333\",\n            color: \"white\",\n            padding: \"10px 20px\",\n            borderRadius: \"20px\",\n            boxShadow: \"0 2px 10px rgba(0,0,0,0.7)\",\n            zIndex: 9999,\n            fontSize: \"1rem\",\n            opacity: 0.9,\n            userSelect: \"none\",\n          }}\n          aria-live=\"polite\"\n        >\n          {saveMessage}\n        </div>\n      )}\n\n      {/* Modal for showing entries when date is clicked */}\n      {showModal && (\n        <div\n          style={{\n            position: \"fixed\",\n            top: 0,\n            left: 0,\n            right: 0,\n            bottom: 0,\n            backgroundColor: \"rgba(0, 0, 0, 0.7)\",\n            display: \"flex\",\n            justifyContent: \"center\",\n            alignItems: \"center\",\n            zIndex: 10000,\n            padding: \"2rem\",\n          }}\n          onClick={closeModal}\n        >\n          <div\n            style={{\n              backgroundColor: \"#FFF8E7\",\n              borderRadius: \"12px\",\n              padding: \"2rem\",\n              maxWidth: \"600px\",\n              maxHeight: \"80vh\",\n              overflowY: \"auto\",\n              boxShadow: \"0 10px 30px rgba(0, 0, 0, 0.3)\",\n              position: \"relative\",\n            }}\n            onClick={(e) => e.stopPropagation()}\n          >\n            {/* Close button */}\n            <button\n              onClick={closeModal}\n              style={{\n                position: \"absolute\",\n                top: \"1rem\",\n                right: \"1rem\",\n                background: \"none\",\n                border: \"none\",\n                fontSize: \"1.5rem\",\n                cursor: \"pointer\",\n                color: \"#666\",\n                padding: \"0.5rem\",\n                borderRadius: \"50%\",\n                width: \"40px\",\n                height: \"40px\",\n                display: \"flex\",\n                alignItems: \"center\",\n                justifyContent: \"center\",\n              }}\n              title=\"Close\"\n            >\n              ×\n            </button>\n\n            <h2 style={{ marginTop: 0, marginBottom: \"1.5rem\", color: \"#333\" }}>\n              📅 Entries for {modalDate}\n            </h2>\n\n            {isLoadingModal ? (\n              <div\n                style={{\n                  textAlign: \"center\",\n                  color: \"#666\",\n                  fontStyle: \"italic\",\n                  padding: \"2rem\",\n                }}\n              >\n                Loading entries...\n              </div>\n            ) : modalEntries.length > 0 ? (\n              <>\n                <div\n                  style={{\n                    fontSize: \"0.9rem\",\n                    color: \"#666\",\n                    marginBottom: \"1rem\",\n                    fontStyle: \"italic\",\n                  }}\n                >\n                  {modalEntries.length} {modalEntries.length === 1 ? \"entry\" : \"entries\"} found\n                </div>\n                <div style={{ maxHeight: \"400px\", overflowY: \"auto\" }}>\n                  {modalEntries.map(({ time, entry }, index) => (\n                    <div\n                      key={`${time}-${index}`}\n                      style={{\n                        marginBottom: \"1.5rem\",\n                        padding: \"1rem\",\n                        backgroundColor: \"#f9f9f9\",\n                        borderRadius: \"8px\",\n                        border: \"1px solid #ddd\",\n                      }}\n                    >\n                      <div\n                        style={{\n                          fontWeight: \"bold\",\n                          fontSize: \"0.9rem\",\n                          marginBottom: \"0.5rem\",\n                          color: \"#555\",\n                          borderBottom: \"1px solid #eee\",\n                          paddingBottom: \"0.25rem\",\n                        }}\n                      >\n                        🕒 {time}\n                      </div>\n                      <div\n                        style={{\n                          whiteSpace: \"pre-wrap\",\n                          paddingTop: \"0.5rem\",\n                          lineHeight: \"1.5\",\n                        }}\n                      >\n                        {entry}\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              </>\n            ) : (\n              <div\n                style={{\n                  textAlign: \"center\",\n                  color: \"#666\",\n                  fontStyle: \"italic\",\n                  padding: \"2rem\",\n                }}\n              >\n                No entries found for this date.\n              </div>\n            )}\n          </div>\n        </div>\n      )}\n\n      <div\n        style={{\n          display: \"flex\",\n          justifyContent: \"space-between\",\n          alignItems: \"center\",\n          marginBottom: \"1rem\",\n        }}\n      >\n        <img\n          src={logo}\n          alt=\"My Logo\"\n          style={{ maxWidth: \"150px\", height: \"auto\" }}\n        />\n        <div>\n          <strong>User:</strong> {user}\n          <button\n            onClick={onLogout}\n            style={{\n              marginLeft: \"1rem\",\n              padding: \"0.3rem 0.75rem\",\n              fontSize: \"1rem\",\n              cursor: \"pointer\",\n              borderRadius: \"6px\",\n              border: \"1px solid #888\",\n              backgroundColor: \"#f0f0f0\",\n              color: \"#333\",\n            }}\n          >\n            Logout\n          </button>\n        </div>\n      </div>\n\n      {/* Recording buttons */}\n      <div\n        style={{\n          display: \"flex\",\n          gap: \"1rem\",\n          marginBottom: \"1rem\",\n          justifyContent: \"center\",\n        }}\n      >\n        {[\n          { label: \"30s\", duration: 30 },\n          { label: \"60s\", duration: 60 },\n          { label: \"180s\", duration: 180 },\n        ].map(({ label, duration }) => {\n          const isActive = isRecording && recordingDuration === duration;\n          return (\n            <button\n              key={label}\n              onClick={() => {\n                if (isActive) {\n                  stopRecording();\n                } else if (!isRecording) {\n                  startRecording(duration);\n                }\n              }}\n              disabled={isRecording && recordingDuration !== duration}\n              style={{\n                position: \"relative\",\n                height: \"60px\",\n                width: \"60px\",\n                borderRadius: isActive ? \"8px\" : \"50%\",\n                border: \"none\",\n                backgroundColor: isActive ? \"#FF0000\" : \"#FFD700\",\n                color: \"#000\",\n                fontSize: \"0.9rem\",\n                fontWeight: \"bold\",\n                boxShadow: isActive ? \"0 0 10px #ff4444\" : \"none\",\n                cursor:\n                  isRecording && recordingDuration !== duration\n                    ? \"not-allowed\"\n                    : \"pointer\",\n                transition: \"all 0.3s ease\",\n                userSelect: \"none\",\n              }}\n              title={label}\n            >\n              {!isActive && label}\n              {isActive && (\n                <div\n                  style={{\n                    position: \"absolute\",\n                    bottom: 0,\n                    left: 0,\n                    height: \"8px\",\n                    background: \"#27ae60\",\n                    width: getButtonProgress(),\n                    transition: \"width 0.3s ease\",\n                    borderRadius: \"0 0 8px 8px\",\n                  }}\n                />\n              )}\n            </button>\n          );\n        })}\n      </div>\n\n      {/* Timestamp */}\n      <div\n        style={{\n          textAlign: \"center\",\n          marginBottom: \"1rem\",\n          fontSize: \"1.1rem\",\n        }}\n      >\n        <span>\n          📅 {currentTimestamp.date} 🕒 {currentTimestamp.time}\n        </span>\n        <button\n          onClick={handleRefreshTime}\n          style={{\n            marginLeft: \"1rem\",\n            padding: \"0.3rem 0.75rem\",\n            fontSize: \"0.9rem\",\n            cursor: \"pointer\",\n            borderRadius: \"6px\",\n            border: \"1px solid #888\",\n            backgroundColor: \"#f0f0f0\",\n            color: \"#333\",\n          }}\n          title=\"Refresh timestamp\"\n        >\n          Refresh Time\n        </button>\n      </div>\n\n      <form onSubmit={handleSubmit}>\n        <textarea\n          placeholder=\"Write your journal entry here...\"\n          value={entry}\n          onChange={(e) => setEntry(e.target.value)}\n          style={{\n            width: \"100%\",\n            height: \"150px\",\n            fontSize: \"1rem\",\n            padding: \"0.75rem\",\n            borderRadius: 8,\n            border: \"1px solid #ccc\",\n            resize: \"vertical\",\n            marginBottom: \"1rem\",\n            fontFamily: \"inherit\",\n          }}\n          disabled={isRecording}\n        />\n        <div style={{ textAlign: \"right\" }}>\n          <button\n            type=\"submit\"\n            disabled={isRecording}\n            style={{\n              padding: \"0.6rem 1.5rem\",\n              fontSize: \"1rem\",\n              backgroundColor: saveAnimating ? \"#2ecc71\" : \"#27ae60\",\n              transform: saveAnimating\n                ? \"scale(1.05)\"\n                : saveClickAnimating\n                ? \"scale(0.95)\"\n                : \"scale(1)\",\n              transition: \"transform 0.15s ease\",\n              color: \"white\",\n              border: \"none\",\n              borderRadius: \"8px\",\n              cursor: isRecording ? \"not-allowed\" : \"pointer\",\n              userSelect: \"none\",\n              fontWeight: \"600\",\n            }}\n          >\n            Save Entry\n          </button>\n        </div>\n      </form>\n\n      <hr style={{ margin: \"2rem 0\", borderColor: \"#ccc\" }} />\n      <h2 style={{ textAlign: \"center\", marginBottom: \"1rem\" }}>\n        📅 Journal Calendar\n      </h2>\n      \n      <div style={{ \n        textAlign: \"center\", \n        marginBottom: \"1rem\", \n        fontSize: \"0.9rem\", \n        color: \"#666\",\n        fontStyle: \"italic\" \n      }}>\n        💡 Click on any date to view all entries for that day\n      </div>\n\n      <div style={{ display: \"flex\", justifyContent: \"center\" }}>\n        <Calendar\n          onChange={(date) => {\n            setSelectedDate(date);\n            setShowToast(false);\n            setSaveMessage(\"\");\n          }}\n          onClickDay={handleDateClick}\n          value={selectedDate}\n          locale=\"en-US\"\n        />\n      </div>\n\n      {/* Entries section - now always shows something */}\n      <div\n        style={{\n          marginTop: \"1rem\",\n          padding: \"1rem\",\n          backgroundColor: \"#f9f9f9\",\n          borderRadius: \"8px\",\n          border: \"1px solid #ccc\",\n        }}\n      >\n        <h3>Entries for {formatDateLocal(selectedDate)}:</h3>\n        \n        {isLoadingEntries ? (\n          <div style={{ \n            textAlign: \"center\", \n            color: \"#666\", \n            fontStyle: \"italic\",\n            padding: \"1rem\" \n          }}>\n            Loading entries...\n          </div>\n        ) : entriesForDate.length > 0 ? (\n          <>\n            <div style={{ \n              fontSize: \"0.9rem\", \n              color: \"#666\", \n              marginBottom: \"1rem\",\n              fontStyle: \"italic\" \n            }}>\n              ({entriesForDate.length} {entriesForDate.length === 1 ? 'entry' : 'entries'} found - Most Recent First)\n            </div>\n            {entriesForDate.map(({ time, entry }, index) => (\n              <div\n                key={`${time}-${index}`}\n                style={{\n                  marginBottom: \"1rem\",\n                  borderBottom: index < entriesForDate.length - 1 ? \"1px solid #ddd\" : \"none\",\n                  paddingBottom: \"0.5rem\",\n                }}\n              >\n                <div\n                  style={{\n                    fontWeight: \"bold\",\n                    fontSize: \"0.9rem\",\n                    marginBottom: \"0.5rem\",\n                    color: \"#555\",\n                    borderBottom: \"1px solid #eee\",\n                    paddingBottom: \"0.25rem\",\n                  }}\n                >\n                  {time}\n                </div>\n                <div style={{ \n                  whiteSpace: \"pre-wrap\",\n                  paddingTop: \"0.25rem\",\n                  lineHeight: \"1.4\"\n                }}>\n                  {entry}\n                </div>\n              </div>\n            ))}\n          </>\n        ) : (\n          <div style={{ \n            textAlign: \"center\", \n            color: \"#666\", \n            fontStyle: \"italic\",\n            padding: \"1rem\" \n          }}>\n            No entries found for this date.\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
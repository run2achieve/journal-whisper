{"ast":null,"code":"var _jsxFileName = \"/Users/hye/Documents/journal-whisper/src/Journal.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from \"react\";\nimport Calendar from \"react-calendar\";\nimport \"react-calendar/dist/Calendar.css\";\nimport logo from \"./assets/logo.png\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst PROXY_API_URL = window.location.hostname === \"localhost\" ? \"http://localhost:8090/transcribeAudio\" : \"https://journal-whisper.onrender.com/transcribeAudio\";\nconst formatDateLocal = date => {\n  const year = date.getFullYear();\n  const month = String(date.getMonth() + 1).padStart(2, \"0\");\n  const day = String(date.getDate()).padStart(2, \"0\");\n  return `${year}-${month}-${day}`;\n};\nexport default function Journal({\n  user,\n  onLogout\n}) {\n  _s();\n  const [entry, setEntry] = useState(\"\");\n  const [isRecording, setIsRecording] = useState(false);\n  const [showToast, setShowToast] = useState(false);\n  const [saveMessage, setSaveMessage] = useState(\"\");\n  const [currentTimestamp, setCurrentTimestamp] = useState({\n    date: \"\",\n    time: \"\"\n  });\n  const [countdown, setCountdown] = useState(0);\n  const [recordingDuration, setRecordingDuration] = useState(0);\n  const [selectedDate, setSelectedDate] = useState(new Date());\n  const [entriesForDate, setEntriesForDate] = useState([]);\n  const [entriesByDate, setEntriesByDate] = useState({}); // For calendar highlights\n\n  const mediaRecorderRef = useRef(null);\n  const audioChunksRef = useRef([]);\n  const countdownIntervalRef = useRef(null);\n  const generateTimestamp = () => {\n    const now = new Date();\n    return {\n      date: formatDateLocal(now),\n      time: now.toLocaleTimeString()\n    };\n  };\n  useEffect(() => {\n    setCurrentTimestamp(generateTimestamp());\n  }, []);\n\n  // Fetch entries for a specific date\n  const fetchEntriesForDate = async dateToFetch => {\n    const FETCH_API_URL = window.location.hostname === \"localhost\" ? \"http://localhost:8090/getEntries\" : \"https://journal-whisper.onrender.com/getEntries\";\n    try {\n      const response = await fetch(FETCH_API_URL, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          user,\n          date: formatDateLocal(dateToFetch)\n        })\n      });\n      if (!response.ok) throw new Error(\"Failed to fetch entries\");\n      const data = await response.json();\n      setEntriesForDate(data.entries || []);\n    } catch (err) {\n      setEntriesForDate([]);\n    }\n  };\n\n  // Fetch all entries for user (for calendar highlights)\n  const fetchAllEntriesByDate = async () => {\n    const FETCH_API_URL = window.location.hostname === \"localhost\" ? \"http://localhost:8090/getAllEntriesByUser\" : \"https://journal-whisper.onrender.com/getAllEntriesByUser\";\n    try {\n      const response = await fetch(FETCH_API_URL, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          user\n        })\n      });\n      if (!response.ok) throw new Error(\"Failed to fetch all entries\");\n      const data = await response.json();\n\n      // Data assumed to be array of entries: { date, time, entry }\n      // Organize by date for easy lookup\n      const byDate = {};\n      (data.entries || []).forEach(({\n        date\n      }) => {\n        if (!byDate[date]) byDate[date] = true; // Just need existence for highlights\n      });\n      setEntriesByDate(byDate);\n    } catch (err) {\n      setEntriesByDate({});\n    }\n  };\n  useEffect(() => {\n    fetchEntriesForDate(selectedDate);\n  }, [selectedDate, user]);\n  useEffect(() => {\n    if (user) {\n      fetchAllEntriesByDate();\n    }\n  }, [user]);\n  const startRecording = async durationSeconds => {\n    if (!navigator.mediaDevices || !navigator.mediaDevices.getUserMedia) {\n      setSaveMessage(\"Audio recording not supported in this browser.\");\n      setShowToast(true);\n      return;\n    }\n    try {\n      const stream = await navigator.mediaDevices.getUserMedia({\n        audio: true\n      });\n      const mediaRecorder = new MediaRecorder(stream);\n      mediaRecorderRef.current = mediaRecorder;\n      audioChunksRef.current = [];\n      setRecordingDuration(durationSeconds);\n      setCurrentTimestamp(generateTimestamp());\n      setCountdown(durationSeconds);\n      mediaRecorder.ondataavailable = event => {\n        if (event.data.size > 0) {\n          audioChunksRef.current.push(event.data);\n        }\n      };\n      mediaRecorder.onstart = () => {\n        setIsRecording(true);\n        setShowToast(true);\n        setSaveMessage(\"Recording in progress...\");\n        countdownIntervalRef.current = setInterval(() => {\n          setCountdown(prev => {\n            if (prev <= 1) {\n              stopRecording();\n              return 0;\n            }\n            return prev - 1;\n          });\n        }, 1000);\n      };\n      mediaRecorder.onstop = async () => {\n        clearInterval(countdownIntervalRef.current);\n        setCountdown(0);\n        setIsRecording(false);\n        setRecordingDuration(0);\n        setSaveMessage(\"\");\n        const audioBlob = new Blob(audioChunksRef.current, {\n          type: \"audio/webm\"\n        });\n        try {\n          const formData = new FormData();\n          formData.append(\"file\", audioBlob, \"recording.webm\");\n          formData.append(\"user\", user);\n          const response = await fetch(PROXY_API_URL, {\n            method: \"POST\",\n            body: formData\n          });\n          if (!response.ok) throw new Error(`Transcription failed: ${response.statusText}`);\n          const data = await response.json();\n          if (data.transcription) {\n            setEntry(data.transcription);\n            setSaveMessage(\"Transcription received. Please review and save manually.\");\n            setShowToast(true);\n          } else {\n            setSaveMessage(\"No transcription received.\");\n            setShowToast(true);\n          }\n        } catch (error) {\n          setSaveMessage(\"Error during transcription: \" + error.message);\n          setShowToast(true);\n        }\n      };\n      mediaRecorder.start();\n    } catch (err) {\n      setSaveMessage(\"Could not start recording: \" + err.message);\n      setShowToast(true);\n    }\n  };\n  const stopRecording = () => {\n    if (mediaRecorderRef.current && mediaRecorderRef.current.state !== \"inactive\") {\n      mediaRecorderRef.current.stop();\n    }\n    clearInterval(countdownIntervalRef.current);\n    setIsRecording(false);\n  };\n  const saveToGoogleSheet = async (date, time, text, username) => {\n    const SAVE_API_URL = window.location.hostname === \"localhost\" ? \"http://localhost:8090/saveEntry\" : \"https://journal-whisper.onrender.com/saveEntry\";\n    try {\n      const response = await fetch(SAVE_API_URL, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          date,\n          time,\n          entry: text,\n          user: username\n        })\n      });\n      if (!response.ok) throw new Error(\"Failed to save entry to Google Sheets\");\n      return await response.json();\n    } catch (error) {\n      console.error(\"Google Sheets save error:\", error);\n      return null;\n    }\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (!entry.trim()) {\n      setSaveMessage(\"Please enter something before saving.\");\n      setShowToast(true);\n      return;\n    }\n\n    // Save locally first, then send to Google Sheets\n    const result = await saveToGoogleSheet(currentTimestamp.date, currentTimestamp.time, entry, user);\n    if (result) {\n      setSaveMessage(\"Journey entry saved!\");\n    } else {\n      setSaveMessage(\"Saved locally, but failed to save to Google Sheets. Please try again.\");\n    }\n    setShowToast(true);\n    setEntry(\"\");\n    setCurrentTimestamp(generateTimestamp());\n    const savedDate = new Date(currentTimestamp.date + \"T00:00:00\");\n    setSelectedDate(savedDate);\n    fetchEntriesForDate(savedDate);\n    fetchAllEntriesByDate();\n  };\n  const handleRefreshTime = () => {\n    setCurrentTimestamp(generateTimestamp());\n    setSaveMessage(\"\");\n  };\n  useEffect(() => {\n    return () => {\n      if (mediaRecorderRef.current && mediaRecorderRef.current.state !== \"inactive\") {\n        mediaRecorderRef.current.stop();\n      }\n      clearInterval(countdownIntervalRef.current);\n    };\n  }, []);\n  useEffect(() => {\n    if (saveMessage) {\n      const timer = setTimeout(() => setSaveMessage(\"\"), 6000);\n      return () => clearTimeout(timer);\n    }\n  }, [saveMessage]);\n  const getButtonProgress = () => {\n    if (recordingDuration === 0) return \"0%\";\n    const percent = (recordingDuration - countdown) / recordingDuration * 100;\n    return `${percent}%`;\n  };\n\n  // Custom calendar tile class for highlighting dates with entries\n  const tileClassName = ({\n    date,\n    view\n  }) => {\n    if (view === \"month\") {\n      const dateStr = formatDateLocal(date);\n      if (entriesByDate[dateStr]) {\n        return \"highlighted-date\"; // class to add styling\n      }\n    }\n    return null;\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      minHeight: \"100vh\",\n      backgroundColor: \"#FFF8E7\",\n      padding: \"2rem\",\n      fontFamily: \"sans-serif\",\n      maxWidth: 700,\n      margin: \"auto\",\n      color: \"#222\"\n    },\n    children: [showToast && saveMessage && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: \"fixed\",\n        top: \"40px\",\n        left: \"50%\",\n        transform: \"translateX(-50%)\",\n        backgroundColor: \"#333\",\n        color: \"white\",\n        padding: \"10px 20px\",\n        borderRadius: \"20px\",\n        boxShadow: \"0 2px 10px rgba(0,0,0,0.7)\",\n        zIndex: 9999,\n        fontSize: \"1rem\",\n        opacity: 0.9,\n        userSelect: \"none\"\n      },\n      \"aria-live\": \"polite\",\n      children: saveMessage\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 314,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: \"flex\",\n        justifyContent: \"space-between\",\n        alignItems: \"center\",\n        marginBottom: \"1rem\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: logo,\n        alt: \"My Logo\",\n        style: {\n          maxWidth: \"150px\",\n          maxHeight: \"50px\"\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 344,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: onLogout,\n        style: {\n          backgroundColor: \"#FF2B2B\",\n          color: \"white\",\n          border: \"none\",\n          padding: \"8px 16px\",\n          borderRadius: \"10px\",\n          cursor: \"pointer\",\n          fontWeight: \"bold\",\n          fontSize: \"1rem\",\n          transition: \"background-color 0.3s\"\n        },\n        onMouseEnter: e => e.currentTarget.style.backgroundColor = \"#D81E1E\",\n        onMouseLeave: e => e.currentTarget.style.backgroundColor = \"#FF2B2B\",\n        \"aria-label\": \"Logout\",\n        children: \"Logout\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 349,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 336,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      style: {\n        textAlign: \"center\",\n        marginBottom: \"1rem\"\n      },\n      children: [\"Welcome, \", user, \"!\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 374,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Calendar, {\n      onChange: setSelectedDate,\n      value: selectedDate,\n      tileClassName: tileClassName,\n      calendarType: \"US\",\n      \"aria-label\": \"Select a date to view entries\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 378,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      style: {\n        marginTop: \"1.5rem\"\n      },\n      children: [\"Entries for \", selectedDate.toDateString(), \":\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 386,\n      columnNumber: 7\n    }, this), entriesForDate.length > 0 ? /*#__PURE__*/_jsxDEV(\"ul\", {\n      style: {\n        listStyle: \"none\",\n        paddingLeft: 0,\n        maxHeight: 150,\n        overflowY: \"auto\",\n        marginBottom: \"1rem\",\n        border: \"1px solid #ddd\",\n        borderRadius: \"10px\",\n        backgroundColor: \"#fefefe\"\n      },\n      \"aria-live\": \"polite\",\n      children: entriesForDate.map(({\n        time,\n        entry\n      }, i) => /*#__PURE__*/_jsxDEV(\"li\", {\n        style: {\n          marginBottom: \"8px\",\n          borderBottom: \"1px solid #ddd\",\n          paddingBottom: \"6px\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: [time, \":\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 412,\n          columnNumber: 15\n        }, this), \" \", entry]\n      }, i, true, {\n        fileName: _jsxFileName,\n        lineNumber: 404,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 390,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        fontStyle: \"italic\"\n      },\n      children: \"No entries for this date.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 417,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      \"aria-label\": \"Journal entry form\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"journal-entry\",\n        style: {\n          display: \"block\",\n          marginBottom: \"0.5rem\",\n          fontWeight: \"bold\"\n        },\n        children: [\"New Entry (\", currentTimestamp.date, \" \", currentTimestamp.time, \")\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 421,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        id: \"journal-entry\",\n        value: entry,\n        onChange: e => setEntry(e.target.value),\n        rows: 6,\n        style: {\n          width: \"100%\",\n          borderRadius: \"10px\",\n          padding: \"1rem\",\n          fontSize: \"1rem\",\n          fontFamily: \"sans-serif\",\n          border: \"1px solid #ccc\",\n          resize: \"vertical\"\n        },\n        \"aria-required\": \"true\",\n        \"aria-multiline\": \"true\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 427,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        style: {\n          backgroundColor: \"#FF6F91\",\n          borderRadius: \"30px\",\n          padding: \"15px 50px\",\n          fontSize: \"1.2rem\",\n          color: \"white\",\n          fontWeight: \"bold\",\n          border: \"none\",\n          marginTop: \"1rem\",\n          width: \"100%\",\n          cursor: \"pointer\",\n          transition: \"background-color 0.3s ease\"\n        },\n        onMouseEnter: e => e.currentTarget.style.backgroundColor = \"#FF496B\",\n        onMouseLeave: e => e.currentTarget.style.backgroundColor = \"#FF6F91\",\n        \"aria-label\": \"Save journal entry\",\n        children: \"Save Entry\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 445,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 420,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: \"1rem\",\n        textAlign: \"center\",\n        display: \"flex\",\n        justifyContent: \"space-around\",\n        gap: \"10px\",\n        flexWrap: \"wrap\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => startRecording(10),\n        disabled: isRecording,\n        style: {\n          flex: \"1 1 100px\",\n          minWidth: \"100px\",\n          height: \"50px\",\n          borderRadius: \"30px\",\n          backgroundColor: \"#FF6F91\",\n          color: \"white\",\n          fontWeight: \"bold\",\n          border: \"none\",\n          position: \"relative\",\n          cursor: isRecording ? \"not-allowed\" : \"pointer\",\n          transition: \"background-color 0.3s ease\",\n          overflow: \"hidden\"\n        },\n        onMouseEnter: e => {\n          if (!isRecording) e.currentTarget.style.backgroundColor = \"#FF496B\";\n        },\n        onMouseLeave: e => {\n          if (!isRecording) e.currentTarget.style.backgroundColor = \"#FF6F91\";\n        },\n        \"aria-label\": \"Start 10 second recording\",\n        children: [isRecording && recordingDuration === 10 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            position: \"absolute\",\n            left: 0,\n            top: 0,\n            height: \"100%\",\n            width: getButtonProgress(),\n            backgroundColor: \"#FF3F6C\",\n            borderRadius: \"30px 0 0 30px\",\n            transition: \"width 1s linear\",\n            zIndex: 0\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 504,\n          columnNumber: 13\n        }, this) : null, /*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            position: \"relative\",\n            zIndex: 1\n          },\n          children: \"10 Sec Record\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 518,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 478,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => startRecording(20),\n        disabled: isRecording,\n        style: {\n          flex: \"1 1 100px\",\n          minWidth: \"100px\",\n          height: \"50px\",\n          borderRadius: \"30px\",\n          backgroundColor: \"#FF6F91\",\n          color: \"white\",\n          fontWeight: \"bold\",\n          border: \"none\",\n          position: \"relative\",\n          cursor: isRecording ? \"not-allowed\" : \"pointer\",\n          transition: \"background-color 0.3s ease\",\n          overflow: \"hidden\"\n        },\n        onMouseEnter: e => {\n          if (!isRecording) e.currentTarget.style.backgroundColor = \"#FF496B\";\n        },\n        onMouseLeave: e => {\n          if (!isRecording) e.currentTarget.style.backgroundColor = \"#FF6F91\";\n        },\n        \"aria-label\": \"Start 20 second recording\",\n        children: [isRecording && recordingDuration === 20 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            position: \"absolute\",\n            left: 0,\n            top: 0,\n            height: \"100%\",\n            width: getButtonProgress(),\n            backgroundColor: \"#FF3F6C\",\n            borderRadius: \"30px 0 0 30px\",\n            transition: \"width 1s linear\",\n            zIndex: 0\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 547,\n          columnNumber: 13\n        }, this) : null, /*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            position: \"relative\",\n            zIndex: 1\n          },\n          children: \"20 Sec Record\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 561,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 521,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => startRecording(30),\n        disabled: isRecording,\n        style: {\n          flex: \"1 1 100px\",\n          minWidth: \"100px\",\n          height: \"50px\",\n          borderRadius: \"30px\",\n          backgroundColor: \"#FF6F91\",\n          color: \"white\",\n          fontWeight: \"bold\",\n          border: \"none\",\n          position: \"relative\",\n          cursor: isRecording ? \"not-allowed\" : \"pointer\",\n          transition: \"background-color 0.3s ease\",\n          overflow: \"hidden\"\n        },\n        onMouseEnter: e => {\n          if (!isRecording) e.currentTarget.style.backgroundColor = \"#FF496B\";\n        },\n        onMouseLeave: e => {\n          if (!isRecording) e.currentTarget.style.backgroundColor = \"#FF6F91\";\n        },\n        \"aria-label\": \"Start 30 second recording\",\n        children: [isRecording && recordingDuration === 30 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            position: \"absolute\",\n            left: 0,\n            top: 0,\n            height: \"100%\",\n            width: getButtonProgress(),\n            backgroundColor: \"#FF3F6C\",\n            borderRadius: \"30px 0 0 30px\",\n            transition: \"width 1s linear\",\n            zIndex: 0\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 590,\n          columnNumber: 13\n        }, this) : null, /*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            position: \"relative\",\n            zIndex: 1\n          },\n          children: \"30 Sec Record\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 604,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 564,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 468,\n      columnNumber: 7\n    }, this), isRecording && /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: stopRecording,\n      style: {\n        marginTop: \"1rem\",\n        backgroundColor: \"#FF2B2B\",\n        borderRadius: \"30px\",\n        color: \"white\",\n        fontWeight: \"bold\",\n        border: \"none\",\n        padding: \"15px 50px\",\n        cursor: \"pointer\",\n        fontSize: \"1.2rem\"\n      },\n      \"aria-label\": \"Stop recording\",\n      children: \"Stop Recording\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 609,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleRefreshTime,\n      style: {\n        marginTop: \"1rem\",\n        backgroundColor: \"#FF6F91\",\n        borderRadius: \"30px\",\n        color: \"white\",\n        fontWeight: \"bold\",\n        border: \"none\",\n        padding: \"10px 20px\",\n        cursor: \"pointer\",\n        fontSize: \"1rem\",\n        transition: \"background-color 0.3s ease\"\n      },\n      onMouseEnter: e => e.currentTarget.style.backgroundColor = \"#FF496B\",\n      onMouseLeave: e => e.currentTarget.style.backgroundColor = \"#FF6F91\",\n      \"aria-label\": \"Refresh timestamp\",\n      children: \"Refresh Time\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 628,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 302,\n    columnNumber: 5\n  }, this);\n}\n_s(Journal, \"ou+e9H3h2350v2CTf09O5+ZTyvg=\");\n_c = Journal;\nvar _c;\n$RefreshReg$(_c, \"Journal\");","map":{"version":3,"names":["React","useState","useEffect","useRef","Calendar","logo","jsxDEV","_jsxDEV","PROXY_API_URL","window","location","hostname","formatDateLocal","date","year","getFullYear","month","String","getMonth","padStart","day","getDate","Journal","user","onLogout","_s","entry","setEntry","isRecording","setIsRecording","showToast","setShowToast","saveMessage","setSaveMessage","currentTimestamp","setCurrentTimestamp","time","countdown","setCountdown","recordingDuration","setRecordingDuration","selectedDate","setSelectedDate","Date","entriesForDate","setEntriesForDate","entriesByDate","setEntriesByDate","mediaRecorderRef","audioChunksRef","countdownIntervalRef","generateTimestamp","now","toLocaleTimeString","fetchEntriesForDate","dateToFetch","FETCH_API_URL","response","fetch","method","headers","body","JSON","stringify","ok","Error","data","json","entries","err","fetchAllEntriesByDate","byDate","forEach","startRecording","durationSeconds","navigator","mediaDevices","getUserMedia","stream","audio","mediaRecorder","MediaRecorder","current","ondataavailable","event","size","push","onstart","setInterval","prev","stopRecording","onstop","clearInterval","audioBlob","Blob","type","formData","FormData","append","statusText","transcription","error","message","start","state","stop","saveToGoogleSheet","text","username","SAVE_API_URL","console","handleSubmit","e","preventDefault","trim","result","savedDate","handleRefreshTime","timer","setTimeout","clearTimeout","getButtonProgress","percent","tileClassName","view","dateStr","style","minHeight","backgroundColor","padding","fontFamily","maxWidth","margin","color","children","position","top","left","transform","borderRadius","boxShadow","zIndex","fontSize","opacity","userSelect","fileName","_jsxFileName","lineNumber","columnNumber","display","justifyContent","alignItems","marginBottom","src","alt","maxHeight","onClick","border","cursor","fontWeight","transition","onMouseEnter","currentTarget","onMouseLeave","textAlign","onChange","value","calendarType","marginTop","toDateString","length","listStyle","paddingLeft","overflowY","map","i","borderBottom","paddingBottom","fontStyle","onSubmit","htmlFor","id","target","rows","width","resize","gap","flexWrap","disabled","flex","minWidth","height","overflow","_c","$RefreshReg$"],"sources":["/Users/hye/Documents/journal-whisper/src/Journal.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\nimport Calendar from \"react-calendar\";\nimport \"react-calendar/dist/Calendar.css\";\nimport logo from \"./assets/logo.png\";\n\nconst PROXY_API_URL =\n  window.location.hostname === \"localhost\"\n    ? \"http://localhost:8090/transcribeAudio\"\n    : \"https://journal-whisper.onrender.com/transcribeAudio\";\n\nconst formatDateLocal = (date) => {\n  const year = date.getFullYear();\n  const month = String(date.getMonth() + 1).padStart(2, \"0\");\n  const day = String(date.getDate()).padStart(2, \"0\");\n  return `${year}-${month}-${day}`;\n};\n\nexport default function Journal({ user, onLogout }) {\n  const [entry, setEntry] = useState(\"\");\n  const [isRecording, setIsRecording] = useState(false);\n  const [showToast, setShowToast] = useState(false);\n  const [saveMessage, setSaveMessage] = useState(\"\");\n  const [currentTimestamp, setCurrentTimestamp] = useState({\n    date: \"\",\n    time: \"\",\n  });\n  const [countdown, setCountdown] = useState(0);\n  const [recordingDuration, setRecordingDuration] = useState(0);\n  const [selectedDate, setSelectedDate] = useState(new Date());\n  const [entriesForDate, setEntriesForDate] = useState([]);\n  const [entriesByDate, setEntriesByDate] = useState({}); // For calendar highlights\n\n  const mediaRecorderRef = useRef(null);\n  const audioChunksRef = useRef([]);\n  const countdownIntervalRef = useRef(null);\n\n  const generateTimestamp = () => {\n    const now = new Date();\n    return {\n      date: formatDateLocal(now),\n      time: now.toLocaleTimeString(),\n    };\n  };\n\n  useEffect(() => {\n    setCurrentTimestamp(generateTimestamp());\n  }, []);\n\n  // Fetch entries for a specific date\n  const fetchEntriesForDate = async (dateToFetch) => {\n    const FETCH_API_URL =\n      window.location.hostname === \"localhost\"\n        ? \"http://localhost:8090/getEntries\"\n        : \"https://journal-whisper.onrender.com/getEntries\";\n\n    try {\n      const response = await fetch(FETCH_API_URL, {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({\n          user,\n          date: formatDateLocal(dateToFetch),\n        }),\n      });\n      if (!response.ok) throw new Error(\"Failed to fetch entries\");\n      const data = await response.json();\n      setEntriesForDate(data.entries || []);\n    } catch (err) {\n      setEntriesForDate([]);\n    }\n  };\n\n  // Fetch all entries for user (for calendar highlights)\n  const fetchAllEntriesByDate = async () => {\n    const FETCH_API_URL =\n      window.location.hostname === \"localhost\"\n        ? \"http://localhost:8090/getAllEntriesByUser\"\n        : \"https://journal-whisper.onrender.com/getAllEntriesByUser\";\n\n    try {\n      const response = await fetch(FETCH_API_URL, {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({ user }),\n      });\n      if (!response.ok) throw new Error(\"Failed to fetch all entries\");\n      const data = await response.json();\n\n      // Data assumed to be array of entries: { date, time, entry }\n      // Organize by date for easy lookup\n      const byDate = {};\n      (data.entries || []).forEach(({ date }) => {\n        if (!byDate[date]) byDate[date] = true; // Just need existence for highlights\n      });\n      setEntriesByDate(byDate);\n    } catch (err) {\n      setEntriesByDate({});\n    }\n  };\n\n  useEffect(() => {\n    fetchEntriesForDate(selectedDate);\n  }, [selectedDate, user]);\n\n  useEffect(() => {\n    if (user) {\n      fetchAllEntriesByDate();\n    }\n  }, [user]);\n\n  const startRecording = async (durationSeconds) => {\n    if (!navigator.mediaDevices || !navigator.mediaDevices.getUserMedia) {\n      setSaveMessage(\"Audio recording not supported in this browser.\");\n      setShowToast(true);\n      return;\n    }\n    try {\n      const stream = await navigator.mediaDevices.getUserMedia({ audio: true });\n      const mediaRecorder = new MediaRecorder(stream);\n      mediaRecorderRef.current = mediaRecorder;\n      audioChunksRef.current = [];\n\n      setRecordingDuration(durationSeconds);\n      setCurrentTimestamp(generateTimestamp());\n      setCountdown(durationSeconds);\n\n      mediaRecorder.ondataavailable = (event) => {\n        if (event.data.size > 0) {\n          audioChunksRef.current.push(event.data);\n        }\n      };\n\n      mediaRecorder.onstart = () => {\n        setIsRecording(true);\n        setShowToast(true);\n        setSaveMessage(\"Recording in progress...\");\n        countdownIntervalRef.current = setInterval(() => {\n          setCountdown((prev) => {\n            if (prev <= 1) {\n              stopRecording();\n              return 0;\n            }\n            return prev - 1;\n          });\n        }, 1000);\n      };\n\n      mediaRecorder.onstop = async () => {\n        clearInterval(countdownIntervalRef.current);\n        setCountdown(0);\n        setIsRecording(false);\n        setRecordingDuration(0);\n        setSaveMessage(\"\");\n\n        const audioBlob = new Blob(audioChunksRef.current, {\n          type: \"audio/webm\",\n        });\n        try {\n          const formData = new FormData();\n          formData.append(\"file\", audioBlob, \"recording.webm\");\n          formData.append(\"user\", user);\n\n          const response = await fetch(PROXY_API_URL, {\n            method: \"POST\",\n            body: formData,\n          });\n\n          if (!response.ok)\n            throw new Error(`Transcription failed: ${response.statusText}`);\n\n          const data = await response.json();\n          if (data.transcription) {\n            setEntry(data.transcription);\n            setSaveMessage(\n              \"Transcription received. Please review and save manually.\"\n            );\n            setShowToast(true);\n          } else {\n            setSaveMessage(\"No transcription received.\");\n            setShowToast(true);\n          }\n        } catch (error) {\n          setSaveMessage(\"Error during transcription: \" + error.message);\n          setShowToast(true);\n        }\n      };\n\n      mediaRecorder.start();\n    } catch (err) {\n      setSaveMessage(\"Could not start recording: \" + err.message);\n      setShowToast(true);\n    }\n  };\n\n  const stopRecording = () => {\n    if (\n      mediaRecorderRef.current &&\n      mediaRecorderRef.current.state !== \"inactive\"\n    ) {\n      mediaRecorderRef.current.stop();\n    }\n    clearInterval(countdownIntervalRef.current);\n    setIsRecording(false);\n  };\n\n  const saveToGoogleSheet = async (date, time, text, username) => {\n    const SAVE_API_URL =\n      window.location.hostname === \"localhost\"\n        ? \"http://localhost:8090/saveEntry\"\n        : \"https://journal-whisper.onrender.com/saveEntry\";\n\n    try {\n      const response = await fetch(SAVE_API_URL, {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({ date, time, entry: text, user: username }),\n      });\n      if (!response.ok)\n        throw new Error(\"Failed to save entry to Google Sheets\");\n      return await response.json();\n    } catch (error) {\n      console.error(\"Google Sheets save error:\", error);\n      return null;\n    }\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    if (!entry.trim()) {\n      setSaveMessage(\"Please enter something before saving.\");\n      setShowToast(true);\n      return;\n    }\n\n    // Save locally first, then send to Google Sheets\n    const result = await saveToGoogleSheet(\n      currentTimestamp.date,\n      currentTimestamp.time,\n      entry,\n      user\n    );\n\n    if (result) {\n      setSaveMessage(\"Journey entry saved!\");\n    } else {\n      setSaveMessage(\n        \"Saved locally, but failed to save to Google Sheets. Please try again.\"\n      );\n    }\n    setShowToast(true);\n    setEntry(\"\");\n    setCurrentTimestamp(generateTimestamp());\n\n    const savedDate = new Date(currentTimestamp.date + \"T00:00:00\");\n    setSelectedDate(savedDate);\n    fetchEntriesForDate(savedDate);\n    fetchAllEntriesByDate();\n  };\n\n  const handleRefreshTime = () => {\n    setCurrentTimestamp(generateTimestamp());\n    setSaveMessage(\"\");\n  };\n\n  useEffect(() => {\n    return () => {\n      if (\n        mediaRecorderRef.current &&\n        mediaRecorderRef.current.state !== \"inactive\"\n      ) {\n        mediaRecorderRef.current.stop();\n      }\n      clearInterval(countdownIntervalRef.current);\n    };\n  }, []);\n\n  useEffect(() => {\n    if (saveMessage) {\n      const timer = setTimeout(() => setSaveMessage(\"\"), 6000);\n      return () => clearTimeout(timer);\n    }\n  }, [saveMessage]);\n\n  const getButtonProgress = () => {\n    if (recordingDuration === 0) return \"0%\";\n    const percent = ((recordingDuration - countdown) / recordingDuration) * 100;\n    return `${percent}%`;\n  };\n\n  // Custom calendar tile class for highlighting dates with entries\n  const tileClassName = ({ date, view }) => {\n    if (view === \"month\") {\n      const dateStr = formatDateLocal(date);\n      if (entriesByDate[dateStr]) {\n        return \"highlighted-date\"; // class to add styling\n      }\n    }\n    return null;\n  };\n\n  return (\n    <div\n      style={{\n        minHeight: \"100vh\",\n        backgroundColor: \"#FFF8E7\",\n        padding: \"2rem\",\n        fontFamily: \"sans-serif\",\n        maxWidth: 700,\n        margin: \"auto\",\n        color: \"#222\",\n      }}\n    >\n      {showToast && saveMessage && (\n        <div\n          style={{\n            position: \"fixed\",\n            top: \"40px\",\n            left: \"50%\",\n            transform: \"translateX(-50%)\",\n            backgroundColor: \"#333\",\n            color: \"white\",\n            padding: \"10px 20px\",\n            borderRadius: \"20px\",\n            boxShadow: \"0 2px 10px rgba(0,0,0,0.7)\",\n            zIndex: 9999,\n            fontSize: \"1rem\",\n            opacity: 0.9,\n            userSelect: \"none\",\n          }}\n          aria-live=\"polite\"\n        >\n          {saveMessage}\n        </div>\n      )}\n\n      <div\n        style={{\n          display: \"flex\",\n          justifyContent: \"space-between\",\n          alignItems: \"center\",\n          marginBottom: \"1rem\",\n        }}\n      >\n        <img\n          src={logo}\n          alt=\"My Logo\"\n          style={{ maxWidth: \"150px\", maxHeight: \"50px\" }}\n        />\n        <button\n          onClick={onLogout}\n          style={{\n            backgroundColor: \"#FF2B2B\",\n            color: \"white\",\n            border: \"none\",\n            padding: \"8px 16px\",\n            borderRadius: \"10px\",\n            cursor: \"pointer\",\n            fontWeight: \"bold\",\n            fontSize: \"1rem\",\n            transition: \"background-color 0.3s\",\n          }}\n          onMouseEnter={(e) =>\n            (e.currentTarget.style.backgroundColor = \"#D81E1E\")\n          }\n          onMouseLeave={(e) =>\n            (e.currentTarget.style.backgroundColor = \"#FF2B2B\")\n          }\n          aria-label=\"Logout\"\n        >\n          Logout\n        </button>\n      </div>\n\n      <h2 style={{ textAlign: \"center\", marginBottom: \"1rem\" }}>\n        Welcome, {user}!\n      </h2>\n\n      <Calendar\n        onChange={setSelectedDate}\n        value={selectedDate}\n        tileClassName={tileClassName}\n        calendarType=\"US\"\n        aria-label=\"Select a date to view entries\"\n      />\n\n      <h3 style={{ marginTop: \"1.5rem\" }}>\n        Entries for {selectedDate.toDateString()}:\n      </h3>\n      {entriesForDate.length > 0 ? (\n        <ul\n          style={{\n            listStyle: \"none\",\n            paddingLeft: 0,\n            maxHeight: 150,\n            overflowY: \"auto\",\n            marginBottom: \"1rem\",\n            border: \"1px solid #ddd\",\n            borderRadius: \"10px\",\n            backgroundColor: \"#fefefe\",\n          }}\n          aria-live=\"polite\"\n        >\n          {entriesForDate.map(({ time, entry }, i) => (\n            <li\n              key={i}\n              style={{\n                marginBottom: \"8px\",\n                borderBottom: \"1px solid #ddd\",\n                paddingBottom: \"6px\",\n              }}\n            >\n              <strong>{time}:</strong> {entry}\n            </li>\n          ))}\n        </ul>\n      ) : (\n        <p style={{ fontStyle: \"italic\" }}>No entries for this date.</p>\n      )}\n\n      <form onSubmit={handleSubmit} aria-label=\"Journal entry form\">\n        <label\n          htmlFor=\"journal-entry\"\n          style={{ display: \"block\", marginBottom: \"0.5rem\", fontWeight: \"bold\" }}\n        >\n          New Entry ({currentTimestamp.date} {currentTimestamp.time})\n        </label>\n        <textarea\n          id=\"journal-entry\"\n          value={entry}\n          onChange={(e) => setEntry(e.target.value)}\n          rows={6}\n          style={{\n            width: \"100%\",\n            borderRadius: \"10px\",\n            padding: \"1rem\",\n            fontSize: \"1rem\",\n            fontFamily: \"sans-serif\",\n            border: \"1px solid #ccc\",\n            resize: \"vertical\",\n          }}\n          aria-required=\"true\"\n          aria-multiline=\"true\"\n        />\n\n        <button\n          type=\"submit\"\n          style={{\n            backgroundColor: \"#FF6F91\",\n            borderRadius: \"30px\",\n            padding: \"15px 50px\",\n            fontSize: \"1.2rem\",\n            color: \"white\",\n            fontWeight: \"bold\",\n            border: \"none\",\n            marginTop: \"1rem\",\n            width: \"100%\",\n            cursor: \"pointer\",\n            transition: \"background-color 0.3s ease\",\n          }}\n          onMouseEnter={(e) => (e.currentTarget.style.backgroundColor = \"#FF496B\")}\n          onMouseLeave={(e) => (e.currentTarget.style.backgroundColor = \"#FF6F91\")}\n          aria-label=\"Save journal entry\"\n        >\n          Save Entry\n        </button>\n      </form>\n\n      <div\n        style={{\n          marginTop: \"1rem\",\n          textAlign: \"center\",\n          display: \"flex\",\n          justifyContent: \"space-around\",\n          gap: \"10px\",\n          flexWrap: \"wrap\",\n        }}\n      >\n        <button\n          onClick={() => startRecording(10)}\n          disabled={isRecording}\n          style={{\n            flex: \"1 1 100px\",\n            minWidth: \"100px\",\n            height: \"50px\",\n            borderRadius: \"30px\",\n            backgroundColor: \"#FF6F91\",\n            color: \"white\",\n            fontWeight: \"bold\",\n            border: \"none\",\n            position: \"relative\",\n            cursor: isRecording ? \"not-allowed\" : \"pointer\",\n            transition: \"background-color 0.3s ease\",\n            overflow: \"hidden\",\n          }}\n          onMouseEnter={(e) => {\n            if (!isRecording) e.currentTarget.style.backgroundColor = \"#FF496B\";\n          }}\n          onMouseLeave={(e) => {\n            if (!isRecording) e.currentTarget.style.backgroundColor = \"#FF6F91\";\n          }}\n          aria-label=\"Start 10 second recording\"\n        >\n          {isRecording && recordingDuration === 10 ? (\n            <div\n              style={{\n                position: \"absolute\",\n                left: 0,\n                top: 0,\n                height: \"100%\",\n                width: getButtonProgress(),\n                backgroundColor: \"#FF3F6C\",\n                borderRadius: \"30px 0 0 30px\",\n                transition: \"width 1s linear\",\n                zIndex: 0,\n              }}\n            />\n          ) : null}\n          <span style={{ position: \"relative\", zIndex: 1 }}>10 Sec Record</span>\n        </button>\n\n        <button\n          onClick={() => startRecording(20)}\n          disabled={isRecording}\n          style={{\n            flex: \"1 1 100px\",\n            minWidth: \"100px\",\n            height: \"50px\",\n            borderRadius: \"30px\",\n            backgroundColor: \"#FF6F91\",\n            color: \"white\",\n            fontWeight: \"bold\",\n            border: \"none\",\n            position: \"relative\",\n            cursor: isRecording ? \"not-allowed\" : \"pointer\",\n            transition: \"background-color 0.3s ease\",\n            overflow: \"hidden\",\n          }}\n          onMouseEnter={(e) => {\n            if (!isRecording) e.currentTarget.style.backgroundColor = \"#FF496B\";\n          }}\n          onMouseLeave={(e) => {\n            if (!isRecording) e.currentTarget.style.backgroundColor = \"#FF6F91\";\n          }}\n          aria-label=\"Start 20 second recording\"\n        >\n          {isRecording && recordingDuration === 20 ? (\n            <div\n              style={{\n                position: \"absolute\",\n                left: 0,\n                top: 0,\n                height: \"100%\",\n                width: getButtonProgress(),\n                backgroundColor: \"#FF3F6C\",\n                borderRadius: \"30px 0 0 30px\",\n                transition: \"width 1s linear\",\n                zIndex: 0,\n              }}\n            />\n          ) : null}\n          <span style={{ position: \"relative\", zIndex: 1 }}>20 Sec Record</span>\n        </button>\n\n        <button\n          onClick={() => startRecording(30)}\n          disabled={isRecording}\n          style={{\n            flex: \"1 1 100px\",\n            minWidth: \"100px\",\n            height: \"50px\",\n            borderRadius: \"30px\",\n            backgroundColor: \"#FF6F91\",\n            color: \"white\",\n            fontWeight: \"bold\",\n            border: \"none\",\n            position: \"relative\",\n            cursor: isRecording ? \"not-allowed\" : \"pointer\",\n            transition: \"background-color 0.3s ease\",\n            overflow: \"hidden\",\n          }}\n          onMouseEnter={(e) => {\n            if (!isRecording) e.currentTarget.style.backgroundColor = \"#FF496B\";\n          }}\n          onMouseLeave={(e) => {\n            if (!isRecording) e.currentTarget.style.backgroundColor = \"#FF6F91\";\n          }}\n          aria-label=\"Start 30 second recording\"\n        >\n          {isRecording && recordingDuration === 30 ? (\n            <div\n              style={{\n                position: \"absolute\",\n                left: 0,\n                top: 0,\n                height: \"100%\",\n                width: getButtonProgress(),\n                backgroundColor: \"#FF3F6C\",\n                borderRadius: \"30px 0 0 30px\",\n                transition: \"width 1s linear\",\n                zIndex: 0,\n              }}\n            />\n          ) : null}\n          <span style={{ position: \"relative\", zIndex: 1 }}>30 Sec Record</span>\n        </button>\n      </div>\n\n      {isRecording && (\n        <button\n          onClick={stopRecording}\n          style={{\n            marginTop: \"1rem\",\n            backgroundColor: \"#FF2B2B\",\n            borderRadius: \"30px\",\n            color: \"white\",\n            fontWeight: \"bold\",\n            border: \"none\",\n            padding: \"15px 50px\",\n            cursor: \"pointer\",\n            fontSize: \"1.2rem\",\n          }}\n          aria-label=\"Stop recording\"\n        >\n          Stop Recording\n        </button>\n      )}\n\n      <button\n        onClick={handleRefreshTime}\n        style={{\n          marginTop: \"1rem\",\n          backgroundColor: \"#FF6F91\",\n          borderRadius: \"30px\",\n          color: \"white\",\n          fontWeight: \"bold\",\n          border: \"none\",\n          padding: \"10px 20px\",\n          cursor: \"pointer\",\n          fontSize: \"1rem\",\n          transition: \"background-color 0.3s ease\",\n        }}\n        onMouseEnter={(e) => (e.currentTarget.style.backgroundColor = \"#FF496B\")}\n        onMouseLeave={(e) => (e.currentTarget.style.backgroundColor = \"#FF6F91\")}\n        aria-label=\"Refresh timestamp\"\n      >\n        Refresh Time\n      </button>\n    </div>\n  );\n}\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,EAAEC,MAAM,QAAQ,OAAO;AAC1D,OAAOC,QAAQ,MAAM,gBAAgB;AACrC,OAAO,kCAAkC;AACzC,OAAOC,IAAI,MAAM,mBAAmB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAErC,MAAMC,aAAa,GACjBC,MAAM,CAACC,QAAQ,CAACC,QAAQ,KAAK,WAAW,GACpC,uCAAuC,GACvC,sDAAsD;AAE5D,MAAMC,eAAe,GAAIC,IAAI,IAAK;EAChC,MAAMC,IAAI,GAAGD,IAAI,CAACE,WAAW,CAAC,CAAC;EAC/B,MAAMC,KAAK,GAAGC,MAAM,CAACJ,IAAI,CAACK,QAAQ,CAAC,CAAC,GAAG,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAC;EAC1D,MAAMC,GAAG,GAAGH,MAAM,CAACJ,IAAI,CAACQ,OAAO,CAAC,CAAC,CAAC,CAACF,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAC;EACnD,OAAO,GAAGL,IAAI,IAAIE,KAAK,IAAII,GAAG,EAAE;AAClC,CAAC;AAED,eAAe,SAASE,OAAOA,CAAC;EAAEC,IAAI;EAAEC;AAAS,CAAC,EAAE;EAAAC,EAAA;EAClD,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAG1B,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAAC2B,WAAW,EAAEC,cAAc,CAAC,GAAG5B,QAAQ,CAAC,KAAK,CAAC;EACrD,MAAM,CAAC6B,SAAS,EAAEC,YAAY,CAAC,GAAG9B,QAAQ,CAAC,KAAK,CAAC;EACjD,MAAM,CAAC+B,WAAW,EAAEC,cAAc,CAAC,GAAGhC,QAAQ,CAAC,EAAE,CAAC;EAClD,MAAM,CAACiC,gBAAgB,EAAEC,mBAAmB,CAAC,GAAGlC,QAAQ,CAAC;IACvDY,IAAI,EAAE,EAAE;IACRuB,IAAI,EAAE;EACR,CAAC,CAAC;EACF,MAAM,CAACC,SAAS,EAAEC,YAAY,CAAC,GAAGrC,QAAQ,CAAC,CAAC,CAAC;EAC7C,MAAM,CAACsC,iBAAiB,EAAEC,oBAAoB,CAAC,GAAGvC,QAAQ,CAAC,CAAC,CAAC;EAC7D,MAAM,CAACwC,YAAY,EAAEC,eAAe,CAAC,GAAGzC,QAAQ,CAAC,IAAI0C,IAAI,CAAC,CAAC,CAAC;EAC5D,MAAM,CAACC,cAAc,EAAEC,iBAAiB,CAAC,GAAG5C,QAAQ,CAAC,EAAE,CAAC;EACxD,MAAM,CAAC6C,aAAa,EAAEC,gBAAgB,CAAC,GAAG9C,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;;EAExD,MAAM+C,gBAAgB,GAAG7C,MAAM,CAAC,IAAI,CAAC;EACrC,MAAM8C,cAAc,GAAG9C,MAAM,CAAC,EAAE,CAAC;EACjC,MAAM+C,oBAAoB,GAAG/C,MAAM,CAAC,IAAI,CAAC;EAEzC,MAAMgD,iBAAiB,GAAGA,CAAA,KAAM;IAC9B,MAAMC,GAAG,GAAG,IAAIT,IAAI,CAAC,CAAC;IACtB,OAAO;MACL9B,IAAI,EAAED,eAAe,CAACwC,GAAG,CAAC;MAC1BhB,IAAI,EAAEgB,GAAG,CAACC,kBAAkB,CAAC;IAC/B,CAAC;EACH,CAAC;EAEDnD,SAAS,CAAC,MAAM;IACdiC,mBAAmB,CAACgB,iBAAiB,CAAC,CAAC,CAAC;EAC1C,CAAC,EAAE,EAAE,CAAC;;EAEN;EACA,MAAMG,mBAAmB,GAAG,MAAOC,WAAW,IAAK;IACjD,MAAMC,aAAa,GACjB/C,MAAM,CAACC,QAAQ,CAACC,QAAQ,KAAK,WAAW,GACpC,kCAAkC,GAClC,iDAAiD;IAEvD,IAAI;MACF,MAAM8C,QAAQ,GAAG,MAAMC,KAAK,CAACF,aAAa,EAAE;QAC1CG,MAAM,EAAE,MAAM;QACdC,OAAO,EAAE;UAAE,cAAc,EAAE;QAAmB,CAAC;QAC/CC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;UACnBxC,IAAI;UACJV,IAAI,EAAED,eAAe,CAAC2C,WAAW;QACnC,CAAC;MACH,CAAC,CAAC;MACF,IAAI,CAACE,QAAQ,CAACO,EAAE,EAAE,MAAM,IAAIC,KAAK,CAAC,yBAAyB,CAAC;MAC5D,MAAMC,IAAI,GAAG,MAAMT,QAAQ,CAACU,IAAI,CAAC,CAAC;MAClCtB,iBAAiB,CAACqB,IAAI,CAACE,OAAO,IAAI,EAAE,CAAC;IACvC,CAAC,CAAC,OAAOC,GAAG,EAAE;MACZxB,iBAAiB,CAAC,EAAE,CAAC;IACvB;EACF,CAAC;;EAED;EACA,MAAMyB,qBAAqB,GAAG,MAAAA,CAAA,KAAY;IACxC,MAAMd,aAAa,GACjB/C,MAAM,CAACC,QAAQ,CAACC,QAAQ,KAAK,WAAW,GACpC,2CAA2C,GAC3C,0DAA0D;IAEhE,IAAI;MACF,MAAM8C,QAAQ,GAAG,MAAMC,KAAK,CAACF,aAAa,EAAE;QAC1CG,MAAM,EAAE,MAAM;QACdC,OAAO,EAAE;UAAE,cAAc,EAAE;QAAmB,CAAC;QAC/CC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;UAAExC;QAAK,CAAC;MAC/B,CAAC,CAAC;MACF,IAAI,CAACkC,QAAQ,CAACO,EAAE,EAAE,MAAM,IAAIC,KAAK,CAAC,6BAA6B,CAAC;MAChE,MAAMC,IAAI,GAAG,MAAMT,QAAQ,CAACU,IAAI,CAAC,CAAC;;MAElC;MACA;MACA,MAAMI,MAAM,GAAG,CAAC,CAAC;MACjB,CAACL,IAAI,CAACE,OAAO,IAAI,EAAE,EAAEI,OAAO,CAAC,CAAC;QAAE3D;MAAK,CAAC,KAAK;QACzC,IAAI,CAAC0D,MAAM,CAAC1D,IAAI,CAAC,EAAE0D,MAAM,CAAC1D,IAAI,CAAC,GAAG,IAAI,CAAC,CAAC;MAC1C,CAAC,CAAC;MACFkC,gBAAgB,CAACwB,MAAM,CAAC;IAC1B,CAAC,CAAC,OAAOF,GAAG,EAAE;MACZtB,gBAAgB,CAAC,CAAC,CAAC,CAAC;IACtB;EACF,CAAC;EAED7C,SAAS,CAAC,MAAM;IACdoD,mBAAmB,CAACb,YAAY,CAAC;EACnC,CAAC,EAAE,CAACA,YAAY,EAAElB,IAAI,CAAC,CAAC;EAExBrB,SAAS,CAAC,MAAM;IACd,IAAIqB,IAAI,EAAE;MACR+C,qBAAqB,CAAC,CAAC;IACzB;EACF,CAAC,EAAE,CAAC/C,IAAI,CAAC,CAAC;EAEV,MAAMkD,cAAc,GAAG,MAAOC,eAAe,IAAK;IAChD,IAAI,CAACC,SAAS,CAACC,YAAY,IAAI,CAACD,SAAS,CAACC,YAAY,CAACC,YAAY,EAAE;MACnE5C,cAAc,CAAC,gDAAgD,CAAC;MAChEF,YAAY,CAAC,IAAI,CAAC;MAClB;IACF;IACA,IAAI;MACF,MAAM+C,MAAM,GAAG,MAAMH,SAAS,CAACC,YAAY,CAACC,YAAY,CAAC;QAAEE,KAAK,EAAE;MAAK,CAAC,CAAC;MACzE,MAAMC,aAAa,GAAG,IAAIC,aAAa,CAACH,MAAM,CAAC;MAC/C9B,gBAAgB,CAACkC,OAAO,GAAGF,aAAa;MACxC/B,cAAc,CAACiC,OAAO,GAAG,EAAE;MAE3B1C,oBAAoB,CAACkC,eAAe,CAAC;MACrCvC,mBAAmB,CAACgB,iBAAiB,CAAC,CAAC,CAAC;MACxCb,YAAY,CAACoC,eAAe,CAAC;MAE7BM,aAAa,CAACG,eAAe,GAAIC,KAAK,IAAK;QACzC,IAAIA,KAAK,CAAClB,IAAI,CAACmB,IAAI,GAAG,CAAC,EAAE;UACvBpC,cAAc,CAACiC,OAAO,CAACI,IAAI,CAACF,KAAK,CAAClB,IAAI,CAAC;QACzC;MACF,CAAC;MAEDc,aAAa,CAACO,OAAO,GAAG,MAAM;QAC5B1D,cAAc,CAAC,IAAI,CAAC;QACpBE,YAAY,CAAC,IAAI,CAAC;QAClBE,cAAc,CAAC,0BAA0B,CAAC;QAC1CiB,oBAAoB,CAACgC,OAAO,GAAGM,WAAW,CAAC,MAAM;UAC/ClD,YAAY,CAAEmD,IAAI,IAAK;YACrB,IAAIA,IAAI,IAAI,CAAC,EAAE;cACbC,aAAa,CAAC,CAAC;cACf,OAAO,CAAC;YACV;YACA,OAAOD,IAAI,GAAG,CAAC;UACjB,CAAC,CAAC;QACJ,CAAC,EAAE,IAAI,CAAC;MACV,CAAC;MAEDT,aAAa,CAACW,MAAM,GAAG,YAAY;QACjCC,aAAa,CAAC1C,oBAAoB,CAACgC,OAAO,CAAC;QAC3C5C,YAAY,CAAC,CAAC,CAAC;QACfT,cAAc,CAAC,KAAK,CAAC;QACrBW,oBAAoB,CAAC,CAAC,CAAC;QACvBP,cAAc,CAAC,EAAE,CAAC;QAElB,MAAM4D,SAAS,GAAG,IAAIC,IAAI,CAAC7C,cAAc,CAACiC,OAAO,EAAE;UACjDa,IAAI,EAAE;QACR,CAAC,CAAC;QACF,IAAI;UACF,MAAMC,QAAQ,GAAG,IAAIC,QAAQ,CAAC,CAAC;UAC/BD,QAAQ,CAACE,MAAM,CAAC,MAAM,EAAEL,SAAS,EAAE,gBAAgB,CAAC;UACpDG,QAAQ,CAACE,MAAM,CAAC,MAAM,EAAE3E,IAAI,CAAC;UAE7B,MAAMkC,QAAQ,GAAG,MAAMC,KAAK,CAAClD,aAAa,EAAE;YAC1CmD,MAAM,EAAE,MAAM;YACdE,IAAI,EAAEmC;UACR,CAAC,CAAC;UAEF,IAAI,CAACvC,QAAQ,CAACO,EAAE,EACd,MAAM,IAAIC,KAAK,CAAC,yBAAyBR,QAAQ,CAAC0C,UAAU,EAAE,CAAC;UAEjE,MAAMjC,IAAI,GAAG,MAAMT,QAAQ,CAACU,IAAI,CAAC,CAAC;UAClC,IAAID,IAAI,CAACkC,aAAa,EAAE;YACtBzE,QAAQ,CAACuC,IAAI,CAACkC,aAAa,CAAC;YAC5BnE,cAAc,CACZ,0DACF,CAAC;YACDF,YAAY,CAAC,IAAI,CAAC;UACpB,CAAC,MAAM;YACLE,cAAc,CAAC,4BAA4B,CAAC;YAC5CF,YAAY,CAAC,IAAI,CAAC;UACpB;QACF,CAAC,CAAC,OAAOsE,KAAK,EAAE;UACdpE,cAAc,CAAC,8BAA8B,GAAGoE,KAAK,CAACC,OAAO,CAAC;UAC9DvE,YAAY,CAAC,IAAI,CAAC;QACpB;MACF,CAAC;MAEDiD,aAAa,CAACuB,KAAK,CAAC,CAAC;IACvB,CAAC,CAAC,OAAOlC,GAAG,EAAE;MACZpC,cAAc,CAAC,6BAA6B,GAAGoC,GAAG,CAACiC,OAAO,CAAC;MAC3DvE,YAAY,CAAC,IAAI,CAAC;IACpB;EACF,CAAC;EAED,MAAM2D,aAAa,GAAGA,CAAA,KAAM;IAC1B,IACE1C,gBAAgB,CAACkC,OAAO,IACxBlC,gBAAgB,CAACkC,OAAO,CAACsB,KAAK,KAAK,UAAU,EAC7C;MACAxD,gBAAgB,CAACkC,OAAO,CAACuB,IAAI,CAAC,CAAC;IACjC;IACAb,aAAa,CAAC1C,oBAAoB,CAACgC,OAAO,CAAC;IAC3CrD,cAAc,CAAC,KAAK,CAAC;EACvB,CAAC;EAED,MAAM6E,iBAAiB,GAAG,MAAAA,CAAO7F,IAAI,EAAEuB,IAAI,EAAEuE,IAAI,EAAEC,QAAQ,KAAK;IAC9D,MAAMC,YAAY,GAChBpG,MAAM,CAACC,QAAQ,CAACC,QAAQ,KAAK,WAAW,GACpC,iCAAiC,GACjC,gDAAgD;IAEtD,IAAI;MACF,MAAM8C,QAAQ,GAAG,MAAMC,KAAK,CAACmD,YAAY,EAAE;QACzClD,MAAM,EAAE,MAAM;QACdC,OAAO,EAAE;UAAE,cAAc,EAAE;QAAmB,CAAC;QAC/CC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;UAAElD,IAAI;UAAEuB,IAAI;UAAEV,KAAK,EAAEiF,IAAI;UAAEpF,IAAI,EAAEqF;QAAS,CAAC;MAClE,CAAC,CAAC;MACF,IAAI,CAACnD,QAAQ,CAACO,EAAE,EACd,MAAM,IAAIC,KAAK,CAAC,uCAAuC,CAAC;MAC1D,OAAO,MAAMR,QAAQ,CAACU,IAAI,CAAC,CAAC;IAC9B,CAAC,CAAC,OAAOkC,KAAK,EAAE;MACdS,OAAO,CAACT,KAAK,CAAC,2BAA2B,EAAEA,KAAK,CAAC;MACjD,OAAO,IAAI;IACb;EACF,CAAC;EAED,MAAMU,YAAY,GAAG,MAAOC,CAAC,IAAK;IAChCA,CAAC,CAACC,cAAc,CAAC,CAAC;IAClB,IAAI,CAACvF,KAAK,CAACwF,IAAI,CAAC,CAAC,EAAE;MACjBjF,cAAc,CAAC,uCAAuC,CAAC;MACvDF,YAAY,CAAC,IAAI,CAAC;MAClB;IACF;;IAEA;IACA,MAAMoF,MAAM,GAAG,MAAMT,iBAAiB,CACpCxE,gBAAgB,CAACrB,IAAI,EACrBqB,gBAAgB,CAACE,IAAI,EACrBV,KAAK,EACLH,IACF,CAAC;IAED,IAAI4F,MAAM,EAAE;MACVlF,cAAc,CAAC,sBAAsB,CAAC;IACxC,CAAC,MAAM;MACLA,cAAc,CACZ,uEACF,CAAC;IACH;IACAF,YAAY,CAAC,IAAI,CAAC;IAClBJ,QAAQ,CAAC,EAAE,CAAC;IACZQ,mBAAmB,CAACgB,iBAAiB,CAAC,CAAC,CAAC;IAExC,MAAMiE,SAAS,GAAG,IAAIzE,IAAI,CAACT,gBAAgB,CAACrB,IAAI,GAAG,WAAW,CAAC;IAC/D6B,eAAe,CAAC0E,SAAS,CAAC;IAC1B9D,mBAAmB,CAAC8D,SAAS,CAAC;IAC9B9C,qBAAqB,CAAC,CAAC;EACzB,CAAC;EAED,MAAM+C,iBAAiB,GAAGA,CAAA,KAAM;IAC9BlF,mBAAmB,CAACgB,iBAAiB,CAAC,CAAC,CAAC;IACxClB,cAAc,CAAC,EAAE,CAAC;EACpB,CAAC;EAED/B,SAAS,CAAC,MAAM;IACd,OAAO,MAAM;MACX,IACE8C,gBAAgB,CAACkC,OAAO,IACxBlC,gBAAgB,CAACkC,OAAO,CAACsB,KAAK,KAAK,UAAU,EAC7C;QACAxD,gBAAgB,CAACkC,OAAO,CAACuB,IAAI,CAAC,CAAC;MACjC;MACAb,aAAa,CAAC1C,oBAAoB,CAACgC,OAAO,CAAC;IAC7C,CAAC;EACH,CAAC,EAAE,EAAE,CAAC;EAENhF,SAAS,CAAC,MAAM;IACd,IAAI8B,WAAW,EAAE;MACf,MAAMsF,KAAK,GAAGC,UAAU,CAAC,MAAMtF,cAAc,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC;MACxD,OAAO,MAAMuF,YAAY,CAACF,KAAK,CAAC;IAClC;EACF,CAAC,EAAE,CAACtF,WAAW,CAAC,CAAC;EAEjB,MAAMyF,iBAAiB,GAAGA,CAAA,KAAM;IAC9B,IAAIlF,iBAAiB,KAAK,CAAC,EAAE,OAAO,IAAI;IACxC,MAAMmF,OAAO,GAAI,CAACnF,iBAAiB,GAAGF,SAAS,IAAIE,iBAAiB,GAAI,GAAG;IAC3E,OAAO,GAAGmF,OAAO,GAAG;EACtB,CAAC;;EAED;EACA,MAAMC,aAAa,GAAGA,CAAC;IAAE9G,IAAI;IAAE+G;EAAK,CAAC,KAAK;IACxC,IAAIA,IAAI,KAAK,OAAO,EAAE;MACpB,MAAMC,OAAO,GAAGjH,eAAe,CAACC,IAAI,CAAC;MACrC,IAAIiC,aAAa,CAAC+E,OAAO,CAAC,EAAE;QAC1B,OAAO,kBAAkB,CAAC,CAAC;MAC7B;IACF;IACA,OAAO,IAAI;EACb,CAAC;EAED,oBACEtH,OAAA;IACEuH,KAAK,EAAE;MACLC,SAAS,EAAE,OAAO;MAClBC,eAAe,EAAE,SAAS;MAC1BC,OAAO,EAAE,MAAM;MACfC,UAAU,EAAE,YAAY;MACxBC,QAAQ,EAAE,GAAG;MACbC,MAAM,EAAE,MAAM;MACdC,KAAK,EAAE;IACT,CAAE;IAAAC,QAAA,GAEDxG,SAAS,IAAIE,WAAW,iBACvBzB,OAAA;MACEuH,KAAK,EAAE;QACLS,QAAQ,EAAE,OAAO;QACjBC,GAAG,EAAE,MAAM;QACXC,IAAI,EAAE,KAAK;QACXC,SAAS,EAAE,kBAAkB;QAC7BV,eAAe,EAAE,MAAM;QACvBK,KAAK,EAAE,OAAO;QACdJ,OAAO,EAAE,WAAW;QACpBU,YAAY,EAAE,MAAM;QACpBC,SAAS,EAAE,4BAA4B;QACvCC,MAAM,EAAE,IAAI;QACZC,QAAQ,EAAE,MAAM;QAChBC,OAAO,EAAE,GAAG;QACZC,UAAU,EAAE;MACd,CAAE;MACF,aAAU,QAAQ;MAAAV,QAAA,EAEjBtG;IAAW;MAAAiH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACT,CACN,eAED7I,OAAA;MACEuH,KAAK,EAAE;QACLuB,OAAO,EAAE,MAAM;QACfC,cAAc,EAAE,eAAe;QAC/BC,UAAU,EAAE,QAAQ;QACpBC,YAAY,EAAE;MAChB,CAAE;MAAAlB,QAAA,gBAEF/H,OAAA;QACEkJ,GAAG,EAAEpJ,IAAK;QACVqJ,GAAG,EAAC,SAAS;QACb5B,KAAK,EAAE;UAAEK,QAAQ,EAAE,OAAO;UAAEwB,SAAS,EAAE;QAAO;MAAE;QAAAV,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACjD,CAAC,eACF7I,OAAA;QACEqJ,OAAO,EAAEpI,QAAS;QAClBsG,KAAK,EAAE;UACLE,eAAe,EAAE,SAAS;UAC1BK,KAAK,EAAE,OAAO;UACdwB,MAAM,EAAE,MAAM;UACd5B,OAAO,EAAE,UAAU;UACnBU,YAAY,EAAE,MAAM;UACpBmB,MAAM,EAAE,SAAS;UACjBC,UAAU,EAAE,MAAM;UAClBjB,QAAQ,EAAE,MAAM;UAChBkB,UAAU,EAAE;QACd,CAAE;QACFC,YAAY,EAAGjD,CAAC,IACbA,CAAC,CAACkD,aAAa,CAACpC,KAAK,CAACE,eAAe,GAAG,SAC1C;QACDmC,YAAY,EAAGnD,CAAC,IACbA,CAAC,CAACkD,aAAa,CAACpC,KAAK,CAACE,eAAe,GAAG,SAC1C;QACD,cAAW,QAAQ;QAAAM,QAAA,EACpB;MAED;QAAAW,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACN,CAAC,eAEN7I,OAAA;MAAIuH,KAAK,EAAE;QAAEsC,SAAS,EAAE,QAAQ;QAAEZ,YAAY,EAAE;MAAO,CAAE;MAAAlB,QAAA,GAAC,WAC/C,EAAC/G,IAAI,EAAC,GACjB;IAAA;MAAA0H,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eAEL7I,OAAA,CAACH,QAAQ;MACPiK,QAAQ,EAAE3H,eAAgB;MAC1B4H,KAAK,EAAE7H,YAAa;MACpBkF,aAAa,EAAEA,aAAc;MAC7B4C,YAAY,EAAC,IAAI;MACjB,cAAW;IAA+B;MAAAtB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC3C,CAAC,eAEF7I,OAAA;MAAIuH,KAAK,EAAE;QAAE0C,SAAS,EAAE;MAAS,CAAE;MAAAlC,QAAA,GAAC,cACtB,EAAC7F,YAAY,CAACgI,YAAY,CAAC,CAAC,EAAC,GAC3C;IAAA;MAAAxB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,EACJxG,cAAc,CAAC8H,MAAM,GAAG,CAAC,gBACxBnK,OAAA;MACEuH,KAAK,EAAE;QACL6C,SAAS,EAAE,MAAM;QACjBC,WAAW,EAAE,CAAC;QACdjB,SAAS,EAAE,GAAG;QACdkB,SAAS,EAAE,MAAM;QACjBrB,YAAY,EAAE,MAAM;QACpBK,MAAM,EAAE,gBAAgB;QACxBlB,YAAY,EAAE,MAAM;QACpBX,eAAe,EAAE;MACnB,CAAE;MACF,aAAU,QAAQ;MAAAM,QAAA,EAEjB1F,cAAc,CAACkI,GAAG,CAAC,CAAC;QAAE1I,IAAI;QAAEV;MAAM,CAAC,EAAEqJ,CAAC,kBACrCxK,OAAA;QAEEuH,KAAK,EAAE;UACL0B,YAAY,EAAE,KAAK;UACnBwB,YAAY,EAAE,gBAAgB;UAC9BC,aAAa,EAAE;QACjB,CAAE;QAAA3C,QAAA,gBAEF/H,OAAA;UAAA+H,QAAA,GAASlG,IAAI,EAAC,GAAC;QAAA;UAAA6G,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,KAAC,EAAC1H,KAAK;MAAA,GAP1BqJ,CAAC;QAAA9B,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAQJ,CACL;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACA,CAAC,gBAEL7I,OAAA;MAAGuH,KAAK,EAAE;QAAEoD,SAAS,EAAE;MAAS,CAAE;MAAA5C,QAAA,EAAC;IAAyB;MAAAW,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAG,CAChE,eAED7I,OAAA;MAAM4K,QAAQ,EAAEpE,YAAa;MAAC,cAAW,oBAAoB;MAAAuB,QAAA,gBAC3D/H,OAAA;QACE6K,OAAO,EAAC,eAAe;QACvBtD,KAAK,EAAE;UAAEuB,OAAO,EAAE,OAAO;UAAEG,YAAY,EAAE,QAAQ;UAAEO,UAAU,EAAE;QAAO,CAAE;QAAAzB,QAAA,GACzE,aACY,EAACpG,gBAAgB,CAACrB,IAAI,EAAC,GAAC,EAACqB,gBAAgB,CAACE,IAAI,EAAC,GAC5D;MAAA;QAAA6G,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAO,CAAC,eACR7I,OAAA;QACE8K,EAAE,EAAC,eAAe;QAClBf,KAAK,EAAE5I,KAAM;QACb2I,QAAQ,EAAGrD,CAAC,IAAKrF,QAAQ,CAACqF,CAAC,CAACsE,MAAM,CAAChB,KAAK,CAAE;QAC1CiB,IAAI,EAAE,CAAE;QACRzD,KAAK,EAAE;UACL0D,KAAK,EAAE,MAAM;UACb7C,YAAY,EAAE,MAAM;UACpBV,OAAO,EAAE,MAAM;UACfa,QAAQ,EAAE,MAAM;UAChBZ,UAAU,EAAE,YAAY;UACxB2B,MAAM,EAAE,gBAAgB;UACxB4B,MAAM,EAAE;QACV,CAAE;QACF,iBAAc,MAAM;QACpB,kBAAe;MAAM;QAAAxC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACtB,CAAC,eAEF7I,OAAA;QACEwF,IAAI,EAAC,QAAQ;QACb+B,KAAK,EAAE;UACLE,eAAe,EAAE,SAAS;UAC1BW,YAAY,EAAE,MAAM;UACpBV,OAAO,EAAE,WAAW;UACpBa,QAAQ,EAAE,QAAQ;UAClBT,KAAK,EAAE,OAAO;UACd0B,UAAU,EAAE,MAAM;UAClBF,MAAM,EAAE,MAAM;UACdW,SAAS,EAAE,MAAM;UACjBgB,KAAK,EAAE,MAAM;UACb1B,MAAM,EAAE,SAAS;UACjBE,UAAU,EAAE;QACd,CAAE;QACFC,YAAY,EAAGjD,CAAC,IAAMA,CAAC,CAACkD,aAAa,CAACpC,KAAK,CAACE,eAAe,GAAG,SAAW;QACzEmC,YAAY,EAAGnD,CAAC,IAAMA,CAAC,CAACkD,aAAa,CAACpC,KAAK,CAACE,eAAe,GAAG,SAAW;QACzE,cAAW,oBAAoB;QAAAM,QAAA,EAChC;MAED;QAAAW,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACL,CAAC,eAEP7I,OAAA;MACEuH,KAAK,EAAE;QACL0C,SAAS,EAAE,MAAM;QACjBJ,SAAS,EAAE,QAAQ;QACnBf,OAAO,EAAE,MAAM;QACfC,cAAc,EAAE,cAAc;QAC9BoC,GAAG,EAAE,MAAM;QACXC,QAAQ,EAAE;MACZ,CAAE;MAAArD,QAAA,gBAEF/H,OAAA;QACEqJ,OAAO,EAAEA,CAAA,KAAMnF,cAAc,CAAC,EAAE,CAAE;QAClCmH,QAAQ,EAAEhK,WAAY;QACtBkG,KAAK,EAAE;UACL+D,IAAI,EAAE,WAAW;UACjBC,QAAQ,EAAE,OAAO;UACjBC,MAAM,EAAE,MAAM;UACdpD,YAAY,EAAE,MAAM;UACpBX,eAAe,EAAE,SAAS;UAC1BK,KAAK,EAAE,OAAO;UACd0B,UAAU,EAAE,MAAM;UAClBF,MAAM,EAAE,MAAM;UACdtB,QAAQ,EAAE,UAAU;UACpBuB,MAAM,EAAElI,WAAW,GAAG,aAAa,GAAG,SAAS;UAC/CoI,UAAU,EAAE,4BAA4B;UACxCgC,QAAQ,EAAE;QACZ,CAAE;QACF/B,YAAY,EAAGjD,CAAC,IAAK;UACnB,IAAI,CAACpF,WAAW,EAAEoF,CAAC,CAACkD,aAAa,CAACpC,KAAK,CAACE,eAAe,GAAG,SAAS;QACrE,CAAE;QACFmC,YAAY,EAAGnD,CAAC,IAAK;UACnB,IAAI,CAACpF,WAAW,EAAEoF,CAAC,CAACkD,aAAa,CAACpC,KAAK,CAACE,eAAe,GAAG,SAAS;QACrE,CAAE;QACF,cAAW,2BAA2B;QAAAM,QAAA,GAErC1G,WAAW,IAAIW,iBAAiB,KAAK,EAAE,gBACtChC,OAAA;UACEuH,KAAK,EAAE;YACLS,QAAQ,EAAE,UAAU;YACpBE,IAAI,EAAE,CAAC;YACPD,GAAG,EAAE,CAAC;YACNuD,MAAM,EAAE,MAAM;YACdP,KAAK,EAAE/D,iBAAiB,CAAC,CAAC;YAC1BO,eAAe,EAAE,SAAS;YAC1BW,YAAY,EAAE,eAAe;YAC7BqB,UAAU,EAAE,iBAAiB;YAC7BnB,MAAM,EAAE;UACV;QAAE;UAAAI,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC,GACA,IAAI,eACR7I,OAAA;UAAMuH,KAAK,EAAE;YAAES,QAAQ,EAAE,UAAU;YAAEM,MAAM,EAAE;UAAE,CAAE;UAAAP,QAAA,EAAC;QAAa;UAAAW,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAChE,CAAC,eAET7I,OAAA;QACEqJ,OAAO,EAAEA,CAAA,KAAMnF,cAAc,CAAC,EAAE,CAAE;QAClCmH,QAAQ,EAAEhK,WAAY;QACtBkG,KAAK,EAAE;UACL+D,IAAI,EAAE,WAAW;UACjBC,QAAQ,EAAE,OAAO;UACjBC,MAAM,EAAE,MAAM;UACdpD,YAAY,EAAE,MAAM;UACpBX,eAAe,EAAE,SAAS;UAC1BK,KAAK,EAAE,OAAO;UACd0B,UAAU,EAAE,MAAM;UAClBF,MAAM,EAAE,MAAM;UACdtB,QAAQ,EAAE,UAAU;UACpBuB,MAAM,EAAElI,WAAW,GAAG,aAAa,GAAG,SAAS;UAC/CoI,UAAU,EAAE,4BAA4B;UACxCgC,QAAQ,EAAE;QACZ,CAAE;QACF/B,YAAY,EAAGjD,CAAC,IAAK;UACnB,IAAI,CAACpF,WAAW,EAAEoF,CAAC,CAACkD,aAAa,CAACpC,KAAK,CAACE,eAAe,GAAG,SAAS;QACrE,CAAE;QACFmC,YAAY,EAAGnD,CAAC,IAAK;UACnB,IAAI,CAACpF,WAAW,EAAEoF,CAAC,CAACkD,aAAa,CAACpC,KAAK,CAACE,eAAe,GAAG,SAAS;QACrE,CAAE;QACF,cAAW,2BAA2B;QAAAM,QAAA,GAErC1G,WAAW,IAAIW,iBAAiB,KAAK,EAAE,gBACtChC,OAAA;UACEuH,KAAK,EAAE;YACLS,QAAQ,EAAE,UAAU;YACpBE,IAAI,EAAE,CAAC;YACPD,GAAG,EAAE,CAAC;YACNuD,MAAM,EAAE,MAAM;YACdP,KAAK,EAAE/D,iBAAiB,CAAC,CAAC;YAC1BO,eAAe,EAAE,SAAS;YAC1BW,YAAY,EAAE,eAAe;YAC7BqB,UAAU,EAAE,iBAAiB;YAC7BnB,MAAM,EAAE;UACV;QAAE;UAAAI,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC,GACA,IAAI,eACR7I,OAAA;UAAMuH,KAAK,EAAE;YAAES,QAAQ,EAAE,UAAU;YAAEM,MAAM,EAAE;UAAE,CAAE;UAAAP,QAAA,EAAC;QAAa;UAAAW,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAChE,CAAC,eAET7I,OAAA;QACEqJ,OAAO,EAAEA,CAAA,KAAMnF,cAAc,CAAC,EAAE,CAAE;QAClCmH,QAAQ,EAAEhK,WAAY;QACtBkG,KAAK,EAAE;UACL+D,IAAI,EAAE,WAAW;UACjBC,QAAQ,EAAE,OAAO;UACjBC,MAAM,EAAE,MAAM;UACdpD,YAAY,EAAE,MAAM;UACpBX,eAAe,EAAE,SAAS;UAC1BK,KAAK,EAAE,OAAO;UACd0B,UAAU,EAAE,MAAM;UAClBF,MAAM,EAAE,MAAM;UACdtB,QAAQ,EAAE,UAAU;UACpBuB,MAAM,EAAElI,WAAW,GAAG,aAAa,GAAG,SAAS;UAC/CoI,UAAU,EAAE,4BAA4B;UACxCgC,QAAQ,EAAE;QACZ,CAAE;QACF/B,YAAY,EAAGjD,CAAC,IAAK;UACnB,IAAI,CAACpF,WAAW,EAAEoF,CAAC,CAACkD,aAAa,CAACpC,KAAK,CAACE,eAAe,GAAG,SAAS;QACrE,CAAE;QACFmC,YAAY,EAAGnD,CAAC,IAAK;UACnB,IAAI,CAACpF,WAAW,EAAEoF,CAAC,CAACkD,aAAa,CAACpC,KAAK,CAACE,eAAe,GAAG,SAAS;QACrE,CAAE;QACF,cAAW,2BAA2B;QAAAM,QAAA,GAErC1G,WAAW,IAAIW,iBAAiB,KAAK,EAAE,gBACtChC,OAAA;UACEuH,KAAK,EAAE;YACLS,QAAQ,EAAE,UAAU;YACpBE,IAAI,EAAE,CAAC;YACPD,GAAG,EAAE,CAAC;YACNuD,MAAM,EAAE,MAAM;YACdP,KAAK,EAAE/D,iBAAiB,CAAC,CAAC;YAC1BO,eAAe,EAAE,SAAS;YAC1BW,YAAY,EAAE,eAAe;YAC7BqB,UAAU,EAAE,iBAAiB;YAC7BnB,MAAM,EAAE;UACV;QAAE;UAAAI,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC,GACA,IAAI,eACR7I,OAAA;UAAMuH,KAAK,EAAE;YAAES,QAAQ,EAAE,UAAU;YAAEM,MAAM,EAAE;UAAE,CAAE;UAAAP,QAAA,EAAC;QAAa;UAAAW,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAChE,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACN,CAAC,EAELxH,WAAW,iBACVrB,OAAA;MACEqJ,OAAO,EAAElE,aAAc;MACvBoC,KAAK,EAAE;QACL0C,SAAS,EAAE,MAAM;QACjBxC,eAAe,EAAE,SAAS;QAC1BW,YAAY,EAAE,MAAM;QACpBN,KAAK,EAAE,OAAO;QACd0B,UAAU,EAAE,MAAM;QAClBF,MAAM,EAAE,MAAM;QACd5B,OAAO,EAAE,WAAW;QACpB6B,MAAM,EAAE,SAAS;QACjBhB,QAAQ,EAAE;MACZ,CAAE;MACF,cAAW,gBAAgB;MAAAR,QAAA,EAC5B;IAED;MAAAW,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CACT,eAED7I,OAAA;MACEqJ,OAAO,EAAEvC,iBAAkB;MAC3BS,KAAK,EAAE;QACL0C,SAAS,EAAE,MAAM;QACjBxC,eAAe,EAAE,SAAS;QAC1BW,YAAY,EAAE,MAAM;QACpBN,KAAK,EAAE,OAAO;QACd0B,UAAU,EAAE,MAAM;QAClBF,MAAM,EAAE,MAAM;QACd5B,OAAO,EAAE,WAAW;QACpB6B,MAAM,EAAE,SAAS;QACjBhB,QAAQ,EAAE,MAAM;QAChBkB,UAAU,EAAE;MACd,CAAE;MACFC,YAAY,EAAGjD,CAAC,IAAMA,CAAC,CAACkD,aAAa,CAACpC,KAAK,CAACE,eAAe,GAAG,SAAW;MACzEmC,YAAY,EAAGnD,CAAC,IAAMA,CAAC,CAACkD,aAAa,CAACpC,KAAK,CAACE,eAAe,GAAG,SAAW;MACzE,cAAW,mBAAmB;MAAAM,QAAA,EAC/B;IAED;MAAAW,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACN,CAAC;AAEV;AAAC3H,EAAA,CAxnBuBH,OAAO;AAAA2K,EAAA,GAAP3K,OAAO;AAAA,IAAA2K,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
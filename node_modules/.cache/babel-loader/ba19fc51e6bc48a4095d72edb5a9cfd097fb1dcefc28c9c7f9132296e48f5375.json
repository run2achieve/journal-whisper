{"ast":null,"code":"var _jsxFileName = \"/Users/hye/Documents/journal-whisper/src/Login.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst USERS = {\n  user1: \"7hdxq2ma\",\n  user2: \"n9q1zw2s\",\n  user3: \"fmp38tkv\",\n  user4: \"8y2aclm4\",\n  user5: \"jd2k09qh\",\n  user6: \"v1mw8xg0\",\n  user7: \"43sn9vmc\",\n  user8: \"e71r2wpq\",\n  user9: \"wvjxy1zn\",\n  user10: \"zhc28qrx\",\n  user11: \"9kafj4mc\",\n  user12: \"u8cx92rw\",\n  user13: \"rm1txe57\",\n  user14: \"b5gwzm41\",\n  user15: \"70qnayhc\",\n  user16: \"hxv9e30b\",\n  user17: \"1vfx8qrk\",\n  user18: \"dz48mwy1\",\n  user19: \"4seu7bxp\",\n  user20: \"tcgw9e3m\"\n};\n\n// Function to generate random 8-character passcode\nconst generateRandomPasscode = () => {\n  const chars = 'abcdefghijklmnopqrstuvwxyz0123456789';\n  let result = '';\n  for (let i = 0; i < 8; i++) {\n    result += chars.charAt(Math.floor(Math.random() * chars.length));\n  }\n  return result;\n};\nexport default function Login({\n  onLogin\n}) {\n  _s();\n  const [mode, setMode] = useState(\"login\"); // \"login\" or \"register\"\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [error, setError] = useState(\"\");\n  const [success, setSuccess] = useState(\"\");\n\n  // Registration states\n  const [email, setEmail] = useState(\"\");\n  const [isRegistering, setIsRegistering] = useState(false);\n  const [generatedPasscode, setGeneratedPasscode] = useState(\"\");\n  const [showPasscode, setShowPasscode] = useState(false);\n\n  // Dynamic users (backup localStorage)\n  const [dynamicUsers, setDynamicUsers] = useState({});\n  const [googleSheetsStatus, setGoogleSheetsStatus] = useState(\"unknown\"); // \"working\", \"failed\", \"unknown\"\n\n  // Load registered users from localStorage on component mount (backup)\n  useEffect(() => {\n    const stored = localStorage.getItem('registeredUsers');\n    if (stored) {\n      try {\n        const users = JSON.parse(stored);\n        console.log(\"🔍 Loaded users from localStorage:\", users);\n        setDynamicUsers(users);\n      } catch (e) {\n        console.error(\"Error loading registered users:\", e);\n      }\n    }\n  }, []);\n\n  // Save registered users to localStorage (backup)\n  const saveRegisteredUsers = users => {\n    localStorage.setItem('registeredUsers', JSON.stringify(users));\n    setDynamicUsers(users);\n    console.log(\"💾 Saved users to localStorage:\", users);\n  };\n\n  // ========================================\n  // EMAIL SYSTEM FUNCTIONS\n  // ========================================\n\n  // Email service function\n  const sendCredentialEmails = async (email, username, password) => {\n    try {\n      const SEND_EMAIL_URL = window.location.hostname === \"localhost\" ? \"http://localhost:8090/send-credentials\" : \"https://journal-whisper.onrender.com/send-credentials\";\n      const response = await fetch(SEND_EMAIL_URL, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          email: email,\n          username: username,\n          password: password\n        })\n      });\n      const result = await response.json();\n      if (response.ok && result.success) {\n        console.log(\"✅ Credential emails scheduled successfully\");\n        return {\n          success: true,\n          message: result.message\n        };\n      } else {\n        console.error(\"❌ Failed to send emails:\", result.error);\n        return {\n          success: false,\n          error: result.error\n        };\n      }\n    } catch (error) {\n      console.error(\"❌ Email service error:\", error);\n      return {\n        success: false,\n        error: error.message\n      };\n    }\n  };\n\n  // Function to send emails to all registered users\n  const sendBulkCredentials = async () => {\n    try {\n      // Get users from localStorage\n      const stored = localStorage.getItem('registeredUsers');\n      const users = stored ? JSON.parse(stored) : {};\n\n      // Format users for API\n      const userArray = Object.entries(users).map(([username, userData]) => ({\n        email: userData.email,\n        username: username,\n        password: userData.passcode\n      }));\n      if (userArray.length === 0) {\n        alert(\"No registered users found to send emails to.\");\n        return;\n      }\n      const BULK_EMAIL_URL = window.location.hostname === \"localhost\" ? \"http://localhost:8090/send-bulk-credentials\" : \"https://journal-whisper.onrender.com/send-bulk-credentials\";\n      console.log(`📧 Sending bulk emails to ${userArray.length} users...`);\n      const response = await fetch(BULK_EMAIL_URL, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          users: userArray\n        })\n      });\n      const result = await response.json();\n      if (response.ok && result.success) {\n        console.log(\"✅ Bulk emails sent successfully:\", result);\n        alert(`✅ Bulk emails sent to ${userArray.length} users! Each user will receive their username immediately and password in 30 seconds.`);\n      } else {\n        console.error(\"❌ Bulk email failed:\", result);\n        alert(\"❌ Bulk email failed: \" + result.error);\n      }\n    } catch (error) {\n      console.error(\"❌ Bulk email error:\", error);\n      alert(\"❌ Bulk email error: \" + error.message);\n    }\n  };\n\n  // Test email configuration\n  const testEmailConfiguration = async () => {\n    try {\n      const TEST_EMAIL_URL = window.location.hostname === \"localhost\" ? \"http://localhost:8090/test-email\" : \"https://journal-whisper.onrender.com/test-email\";\n      const response = await fetch(TEST_EMAIL_URL, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        }\n      });\n      const result = await response.json();\n      if (response.ok && result.success) {\n        console.log(\"✅ Email configuration test passed\");\n        alert(\"✅ Email configuration is working!\");\n      } else {\n        console.error(\"❌ Email configuration test failed:\", result.error);\n        alert(\"❌ Email configuration failed: \" + result.error);\n      }\n    } catch (error) {\n      console.error(\"❌ Email test error:\", error);\n      alert(\"❌ Email test error: \" + error.message);\n    }\n  };\n  const handleLogin = async e => {\n    e.preventDefault();\n    console.log(\"🔍 Attempting login with username:\", username);\n\n    // Step 1: Check hard-coded users first (fastest)\n    if (USERS[username] && USERS[username] === password) {\n      console.log(\"✅ Login successful with hard-coded user\");\n      setError(\"\");\n      onLogin(username);\n      return;\n    }\n\n    // Step 2: Check localStorage registered users (fast backup)\n    if (dynamicUsers[username] && dynamicUsers[username].passcode === password) {\n      console.log(\"✅ Login successful with localStorage user\");\n      setError(\"\");\n      onLogin(username);\n      return;\n    }\n\n    // Step 3: Check Google Sheets for registered users (if backend configured)\n    try {\n      console.log(\"🔍 Checking Google Sheets for user credentials...\");\n      const LOGIN_CHECK_URL = window.location.hostname === \"localhost\" ? \"http://localhost:8090/checkUser\" : \"https://journal-whisper.onrender.com/checkUser\";\n      const response = await fetch(LOGIN_CHECK_URL, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          username: username,\n          passcode: password\n        })\n      });\n      if (response.ok) {\n        const result = await response.json();\n        if (result.success) {\n          console.log(\"✅ Login successful with Google Sheets user\");\n          setGoogleSheetsStatus(\"working\");\n          setError(\"\");\n          onLogin(username);\n          return;\n        } else {\n          console.log(\"❌ Invalid credentials in Google Sheets\");\n          setGoogleSheetsStatus(\"working\");\n        }\n      } else {\n        console.log(\"⚠️ Google Sheets backend error:\", response.status);\n        setGoogleSheetsStatus(\"failed\");\n      }\n    } catch (error) {\n      console.log(\"⚠️ Backend login check failed:\", error.message);\n      setGoogleSheetsStatus(\"failed\");\n    }\n    setError(\"Invalid username or password\");\n  };\n\n  // UPDATED: Registration function with email system integration\n  const handleRegister = async e => {\n    e.preventDefault();\n    setError(\"\");\n    setSuccess(\"\");\n\n    // Basic validation\n    if (!email) {\n      setError(\"Email is required\");\n      return;\n    }\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n    if (!emailRegex.test(email)) {\n      setError(\"Please enter a valid email address\");\n      return;\n    }\n    const existingUser = Object.keys(dynamicUsers).find(user => dynamicUsers[user].email === email);\n    if (existingUser) {\n      setError(\"Email already registered in local storage\");\n      return;\n    }\n    setIsRegistering(true);\n    try {\n      const timestamp = Date.now().toString().slice(-4);\n      const randomPrefix = Math.random().toString(36).substring(2, 6);\n      const newUsername = `user_${randomPrefix}${timestamp}`;\n      const newPasscode = generateRandomPasscode();\n      console.log(\"🎯 Generated credentials:\", {\n        username: newUsername,\n        passcode: newPasscode\n      });\n      let backendSuccess = false;\n      let backendError = null;\n\n      // Try to save to Google Sheets backend first\n      try {\n        const REGISTER_API_URL = window.location.hostname === \"localhost\" ? \"http://localhost:8090/register\" : \"https://journal-whisper.onrender.com/register\";\n        console.log(\"📤 Sending registration to Google Sheets...\");\n        const response = await fetch(REGISTER_API_URL, {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\"\n          },\n          body: JSON.stringify({\n            username: newUsername,\n            password: newPasscode,\n            email: email,\n            // REMOVED: fullName: email, (no longer needed)\n            registrationDate: new Date().toISOString()\n          })\n        });\n        if (response.ok) {\n          const result = await response.json();\n          if (result.success) {\n            console.log(\"✅ User saved to Google Sheets successfully\");\n            setGoogleSheetsStatus(\"working\");\n            backendSuccess = true;\n          } else {\n            console.log(\"❌ Google Sheets registration failed:\", result.error);\n            backendError = result.error;\n            setGoogleSheetsStatus(\"working\");\n            if (result.error.includes(\"already exists\") || result.error.includes(\"already registered\")) {\n              setError(result.error);\n              return;\n            }\n          }\n        } else {\n          const errorData = await response.json().catch(() => ({\n            error: \"Unknown error\"\n          }));\n          console.log(\"❌ Backend registration failed with status:\", response.status);\n          backendError = errorData.error || `Server error: ${response.status}`;\n          setGoogleSheetsStatus(\"failed\");\n        }\n      } catch (backendErrorCatch) {\n        console.log(\"⚠️ Backend not available for registration:\", backendErrorCatch.message);\n        setGoogleSheetsStatus(\"failed\");\n        backendError = \"Backend service unavailable\";\n      }\n\n      // Always save to localStorage as backup\n      const updatedUsers = {\n        ...dynamicUsers,\n        [newUsername]: {\n          passcode: newPasscode,\n          email: email,\n          registrationDate: new Date().toISOString()\n        }\n      };\n      saveRegisteredUsers(updatedUsers);\n\n      // 🆕 NEW: Try to send credential emails\n      console.log(\"📧 Attempting to send credential emails...\");\n      const emailResult = await sendCredentialEmails(email, newUsername, newPasscode);\n      if (emailResult.success) {\n        // ✅ Email sent successfully - don't show credentials on screen for security\n        setSuccess(`✅ Account created successfully! Your username and password have been sent to ${email} in separate emails. Check your inbox now!`);\n        setEmail(\"\");\n\n        // Don't show credentials on screen for security\n        setShowPasscode(false);\n        setGeneratedPasscode(\"\");\n        setUsername(\"\");\n      } else {\n        // ❌ Email failed - show credentials on screen as backup\n        console.log(\"❌ Email sending failed, showing credentials on screen\");\n        setGeneratedPasscode(newPasscode);\n        setUsername(newUsername);\n        setShowPasscode(true);\n        let storageMethod;\n        if (backendSuccess) {\n          storageMethod = \"Google Sheets and localStorage backup\";\n        } else {\n          storageMethod = `localStorage only (${backendError || \"backend unavailable\"})`;\n        }\n        setSuccess(`✅ Account created and saved to ${storageMethod}. ⚠️ Email sending failed (${emailResult.error}), so please save the credentials shown below.`);\n        setEmail(\"\");\n      }\n      console.log(\"✅ Registration completed successfully\");\n    } catch (error) {\n      console.error(\"Registration error:\", error);\n      setError(\"Registration failed: \" + error.message);\n    } finally {\n      setIsRegistering(false);\n    }\n  };\n  const switchMode = () => {\n    setMode(mode === \"login\" ? \"register\" : \"login\");\n    setError(\"\");\n    setSuccess(\"\");\n    setUsername(\"\");\n    setPassword(\"\");\n    setEmail(\"\");\n    setGeneratedPasscode(\"\");\n    setShowPasscode(false);\n  };\n  const copyToClipboard = text => {\n    navigator.clipboard.writeText(text).then(() => {\n      alert(\"Copied to clipboard!\");\n    }).catch(() => {\n      alert(\"Please manually copy the text\");\n    });\n  };\n\n  // Get status indicator for Google Sheets\n  const getBackendStatusIndicator = () => {\n    switch (googleSheetsStatus) {\n      case \"working\":\n        return \"🟢 Google Sheets Connected\";\n      case \"failed\":\n        return \"🟡 Using Local Storage Only\";\n      default:\n        return \"⚪ Backend Status Unknown\";\n    }\n  };\n\n  // Admin Panel Component for email testing\n  const AdminPanel = () => /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      marginTop: \"1rem\",\n      padding: \"1rem\",\n      backgroundColor: \"#f9f9f9\",\n      borderRadius: \"6px\",\n      fontSize: \"0.85rem\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        fontWeight: \"bold\",\n        marginBottom: \"0.5rem\"\n      },\n      children: \"\\uD83D\\uDD27 Admin Tools:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 431,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: testEmailConfiguration,\n      style: {\n        margin: \"0.25rem\",\n        padding: \"0.5rem 1rem\",\n        backgroundColor: \"#2196f3\",\n        color: \"white\",\n        border: \"none\",\n        borderRadius: \"4px\",\n        cursor: \"pointer\",\n        fontSize: \"0.8rem\"\n      },\n      children: \"Test Email Config\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 434,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: sendBulkCredentials,\n      style: {\n        margin: \"0.25rem\",\n        padding: \"0.5rem 1rem\",\n        backgroundColor: \"#ff9800\",\n        color: \"white\",\n        border: \"none\",\n        borderRadius: \"4px\",\n        cursor: \"pointer\",\n        fontSize: \"0.8rem\"\n      },\n      children: \"Send Bulk Emails to All Users\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 449,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 424,\n    columnNumber: 5\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      maxWidth: 420,\n      margin: \"3rem auto\",\n      padding: \"2rem\",\n      fontFamily: \"sans-serif\",\n      backgroundColor: \"#fff\",\n      borderRadius: \"12px\",\n      boxShadow: \"0 4px 20px rgba(0,0,0,0.1)\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      style: {\n        textAlign: \"center\",\n        marginBottom: \"2rem\",\n        color: \"#333\"\n      },\n      children: mode === \"login\" ? \"🔐 Journal Login\" : \"📝 Create New Account\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 479,\n      columnNumber: 7\n    }, this), googleSheetsStatus !== \"unknown\" && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        textAlign: \"center\",\n        fontSize: \"0.8rem\",\n        marginBottom: \"1rem\",\n        padding: \"0.5rem\",\n        backgroundColor: googleSheetsStatus === \"working\" ? \"#e8f5e8\" : \"#fff3cd\",\n        borderRadius: \"4px\",\n        border: `1px solid ${googleSheetsStatus === \"working\" ? \"#c8e6c9\" : \"#ffeaa7\"}`\n      },\n      children: getBackendStatusIndicator()\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 485,\n      columnNumber: 9\n    }, this), mode === \"login\" ?\n    /*#__PURE__*/\n    // LOGIN FORM\n    _jsxDEV(\"form\", {\n      onSubmit: handleLogin,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginBottom: \"1rem\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          style: {\n            display: \"block\",\n            marginBottom: \"0.5rem\",\n            fontWeight: \"bold\"\n          },\n          children: \"Username:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 502,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: username,\n          onChange: e => setUsername(e.target.value),\n          autoComplete: \"username\",\n          required: true,\n          style: {\n            width: \"100%\",\n            padding: \"0.75rem\",\n            borderRadius: \"6px\",\n            border: \"1px solid #ddd\",\n            fontSize: \"1rem\",\n            boxSizing: \"border-box\"\n          },\n          placeholder: \"Enter your username\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 505,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 501,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginBottom: \"1.5rem\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          style: {\n            display: \"block\",\n            marginBottom: \"0.5rem\",\n            fontWeight: \"bold\"\n          },\n          children: \"Password/Passcode:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 524,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          value: password,\n          onChange: e => setPassword(e.target.value),\n          autoComplete: \"current-password\",\n          required: true,\n          style: {\n            width: \"100%\",\n            padding: \"0.75rem\",\n            borderRadius: \"6px\",\n            border: \"1px solid #ddd\",\n            fontSize: \"1rem\",\n            boxSizing: \"border-box\"\n          },\n          placeholder: \"Enter your password/passcode\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 527,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 523,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        style: {\n          width: \"100%\",\n          padding: \"0.75rem\",\n          backgroundColor: \"#4CAF50\",\n          color: \"white\",\n          border: \"none\",\n          fontSize: \"1rem\",\n          cursor: \"pointer\",\n          borderRadius: \"6px\",\n          fontWeight: \"bold\",\n          marginBottom: \"1rem\"\n        },\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 545,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 500,\n      columnNumber: 9\n    }, this) :\n    /*#__PURE__*/\n    // REGISTRATION FORM\n    _jsxDEV(\"form\", {\n      onSubmit: handleRegister,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginBottom: \"1.5rem\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          style: {\n            display: \"block\",\n            marginBottom: \"0.5rem\",\n            fontWeight: \"bold\"\n          },\n          children: \"Email Address:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 567,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"email\",\n          value: email,\n          onChange: e => setEmail(e.target.value),\n          required: true,\n          style: {\n            width: \"100%\",\n            padding: \"0.75rem\",\n            borderRadius: \"6px\",\n            border: \"1px solid #ddd\",\n            fontSize: \"1rem\",\n            boxSizing: \"border-box\"\n          },\n          placeholder: \"Enter your email address\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 570,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            fontSize: \"0.8rem\",\n            color: \"#666\",\n            marginTop: \"0.3rem\"\n          },\n          children: \"We'll generate a username and passcode for you\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 585,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 566,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        disabled: isRegistering,\n        style: {\n          width: \"100%\",\n          padding: \"0.75rem\",\n          backgroundColor: isRegistering ? \"#cccccc\" : \"#2196f3\",\n          color: \"white\",\n          border: \"none\",\n          fontSize: \"1rem\",\n          cursor: isRegistering ? \"not-allowed\" : \"pointer\",\n          borderRadius: \"6px\",\n          fontWeight: \"bold\",\n          marginBottom: \"1rem\"\n        },\n        children: isRegistering ? \"Creating Account...\" : \"Create Account\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 590,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 565,\n      columnNumber: 9\n    }, this), showPasscode && generatedPasscode && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        backgroundColor: \"#e8f5e8\",\n        border: \"2px solid #4CAF50\",\n        borderRadius: \"8px\",\n        padding: \"1.5rem\",\n        marginBottom: \"1rem\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        style: {\n          margin: \"0 0 1rem 0\",\n          color: \"#2e7d32\",\n          textAlign: \"center\"\n        },\n        children: \"\\uD83C\\uDF89 Account Created Successfully!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 620,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginBottom: \"1rem\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Username:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 625,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            backgroundColor: \"white\",\n            padding: \"0.5rem\",\n            borderRadius: \"4px\",\n            fontFamily: \"monospace\",\n            display: \"flex\",\n            justifyContent: \"space-between\",\n            alignItems: \"center\",\n            marginTop: \"0.3rem\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: username\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 636,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => copyToClipboard(username),\n            style: {\n              background: \"none\",\n              border: \"1px solid #ccc\",\n              borderRadius: \"4px\",\n              padding: \"0.2rem 0.5rem\",\n              cursor: \"pointer\",\n              fontSize: \"0.8rem\"\n            },\n            children: \"Copy\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 637,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 626,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 624,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginBottom: \"1rem\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Passcode:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 654,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            backgroundColor: \"white\",\n            padding: \"0.5rem\",\n            borderRadius: \"4px\",\n            fontFamily: \"monospace\",\n            display: \"flex\",\n            justifyContent: \"space-between\",\n            alignItems: \"center\",\n            marginTop: \"0.3rem\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              fontSize: \"1.1rem\",\n              fontWeight: \"bold\"\n            },\n            children: generatedPasscode\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 665,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => copyToClipboard(generatedPasscode),\n            style: {\n              background: \"none\",\n              border: \"1px solid #ccc\",\n              borderRadius: \"4px\",\n              padding: \"0.2rem 0.5rem\",\n              cursor: \"pointer\",\n              fontSize: \"0.8rem\"\n            },\n            children: \"Copy\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 666,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 655,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 653,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          fontSize: \"0.85rem\",\n          color: \"#d32f2f\",\n          backgroundColor: \"#ffebee\",\n          padding: \"0.75rem\",\n          borderRadius: \"4px\",\n          border: \"1px solid #ffcdd2\",\n          textAlign: \"center\"\n        },\n        children: [\"\\u26A0\\uFE0F \", /*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"IMPORTANT:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 691,\n          columnNumber: 16\n        }, this), \" Save your username and passcode now!\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 692,\n          columnNumber: 13\n        }, this), \"You'll need them to login to your journal.\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 693,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Email sending failed - these credentials are shown as backup.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 693,\n          columnNumber: 18\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 682,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => {\n          setMode(\"login\");\n          setShowPasscode(false);\n          setPassword(\"\");\n        },\n        style: {\n          width: \"100%\",\n          padding: \"0.75rem\",\n          backgroundColor: \"#4CAF50\",\n          color: \"white\",\n          border: \"none\",\n          fontSize: \"1rem\",\n          cursor: \"pointer\",\n          borderRadius: \"6px\",\n          fontWeight: \"bold\",\n          marginTop: \"1rem\"\n        },\n        children: \"Continue to Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 696,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 613,\n      columnNumber: 9\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        color: \"#d32f2f\",\n        marginBottom: \"1rem\",\n        textAlign: \"center\",\n        backgroundColor: \"#ffebee\",\n        padding: \"0.75rem\",\n        borderRadius: \"6px\",\n        border: \"1px solid #ffcdd2\"\n      },\n      children: [\"\\u26A0\\uFE0F \", error]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 722,\n      columnNumber: 9\n    }, this), success && !showPasscode && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        color: \"#2e7d32\",\n        marginBottom: \"1rem\",\n        textAlign: \"center\",\n        backgroundColor: \"#e8f5e8\",\n        padding: \"0.75rem\",\n        borderRadius: \"6px\",\n        border: \"1px solid #c8e6c9\"\n      },\n      children: [\"\\u2705 \", success]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 736,\n      columnNumber: 9\n    }, this), !showPasscode && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        textAlign: \"center\",\n        marginTop: \"1rem\"\n      },\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: switchMode,\n        style: {\n          background: \"none\",\n          border: \"none\",\n          color: \"#2196f3\",\n          cursor: \"pointer\",\n          textDecoration: \"underline\",\n          fontSize: \"0.9rem\"\n        },\n        children: mode === \"login\" ? \"New user? Create account with email\" : \"Have an account? Login here\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 752,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 751,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: \"2rem\",\n        padding: \"1rem\",\n        backgroundColor: \"#f0f0f0\",\n        borderRadius: \"6px\",\n        fontSize: \"0.8rem\",\n        color: \"#666\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          fontWeight: \"bold\",\n          marginBottom: \"0.5rem\"\n        },\n        children: \"\\uD83D\\uDD0D System Status:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 779,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [\"Hard-coded users: \", Object.keys(USERS).length, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 783,\n          columnNumber: 56\n        }, this), \"Registered users: \", Object.keys(dynamicUsers).length, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 784,\n          columnNumber: 63\n        }, this), \"Backend status: \", getBackendStatusIndicator(), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 785,\n          columnNumber: 56\n        }, this), Object.keys(dynamicUsers).length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [\"Last registered: \", Object.keys(dynamicUsers)[Object.keys(dynamicUsers).length - 1]]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 787,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 782,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 771,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: \"1rem\",\n        padding: \"1rem\",\n        backgroundColor: \"#f5f5f5\",\n        borderRadius: \"6px\",\n        fontSize: \"0.85rem\",\n        color: \"#666\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          fontWeight: \"bold\",\n          marginBottom: \"0.5rem\"\n        },\n        children: \"\\uD83D\\uDD10 Login Methods:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 801,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [\"1. \", /*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Hard-coded users\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 805,\n          columnNumber: 14\n        }, this), \" (user1-user20)\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 805,\n          columnNumber: 62\n        }, this), \"2. \", /*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Local registered users\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 806,\n          columnNumber: 14\n        }, this), \" (this browser only)\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 806,\n          columnNumber: 73\n        }, this), \"3. \", /*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Google Sheets users\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 807,\n          columnNumber: 14\n        }, this), \" (accessible anywhere)\", googleSheetsStatus === \"failed\" && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            color: \"#d32f2f\",\n            marginTop: \"0.5rem\"\n          },\n          children: \"\\u26A0\\uFE0F Google Sheets backend not available - using local storage only\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 809,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 804,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 793,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(AdminPanel, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 817,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 468,\n    columnNumber: 5\n  }, this);\n}\n_s(Login, \"yTUs1g1ie1zCZf0dAzCmAo/8/iw=\");\n_c = Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useState","useEffect","jsxDEV","_jsxDEV","USERS","user1","user2","user3","user4","user5","user6","user7","user8","user9","user10","user11","user12","user13","user14","user15","user16","user17","user18","user19","user20","generateRandomPasscode","chars","result","i","charAt","Math","floor","random","length","Login","onLogin","_s","mode","setMode","username","setUsername","password","setPassword","error","setError","success","setSuccess","email","setEmail","isRegistering","setIsRegistering","generatedPasscode","setGeneratedPasscode","showPasscode","setShowPasscode","dynamicUsers","setDynamicUsers","googleSheetsStatus","setGoogleSheetsStatus","stored","localStorage","getItem","users","JSON","parse","console","log","e","saveRegisteredUsers","setItem","stringify","sendCredentialEmails","SEND_EMAIL_URL","window","location","hostname","response","fetch","method","headers","body","json","ok","message","sendBulkCredentials","userArray","Object","entries","map","userData","passcode","alert","BULK_EMAIL_URL","testEmailConfiguration","TEST_EMAIL_URL","handleLogin","preventDefault","LOGIN_CHECK_URL","status","handleRegister","emailRegex","test","existingUser","keys","find","user","timestamp","Date","now","toString","slice","randomPrefix","substring","newUsername","newPasscode","backendSuccess","backendError","REGISTER_API_URL","registrationDate","toISOString","includes","errorData","catch","backendErrorCatch","updatedUsers","emailResult","storageMethod","switchMode","copyToClipboard","text","navigator","clipboard","writeText","then","getBackendStatusIndicator","AdminPanel","style","marginTop","padding","backgroundColor","borderRadius","fontSize","children","fontWeight","marginBottom","fileName","_jsxFileName","lineNumber","columnNumber","onClick","margin","color","border","cursor","maxWidth","fontFamily","boxShadow","textAlign","onSubmit","display","type","value","onChange","target","autoComplete","required","width","boxSizing","placeholder","disabled","justifyContent","alignItems","background","textDecoration","_c","$RefreshReg$"],"sources":["/Users/hye/Documents/journal-whisper/src/Login.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\n\nconst USERS = {\n  user1: \"7hdxq2ma\",\n  user2: \"n9q1zw2s\",\n  user3: \"fmp38tkv\",\n  user4: \"8y2aclm4\",\n  user5: \"jd2k09qh\",\n  user6: \"v1mw8xg0\",\n  user7: \"43sn9vmc\",\n  user8: \"e71r2wpq\",\n  user9: \"wvjxy1zn\",\n  user10: \"zhc28qrx\",\n  user11: \"9kafj4mc\",\n  user12: \"u8cx92rw\",\n  user13: \"rm1txe57\",\n  user14: \"b5gwzm41\",\n  user15: \"70qnayhc\",\n  user16: \"hxv9e30b\",\n  user17: \"1vfx8qrk\",\n  user18: \"dz48mwy1\",\n  user19: \"4seu7bxp\",\n  user20: \"tcgw9e3m\",\n};\n\n// Function to generate random 8-character passcode\nconst generateRandomPasscode = () => {\n  const chars = 'abcdefghijklmnopqrstuvwxyz0123456789';\n  let result = '';\n  for (let i = 0; i < 8; i++) {\n    result += chars.charAt(Math.floor(Math.random() * chars.length));\n  }\n  return result;\n};\n\nexport default function Login({ onLogin }) {\n  const [mode, setMode] = useState(\"login\"); // \"login\" or \"register\"\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [error, setError] = useState(\"\");\n  const [success, setSuccess] = useState(\"\");\n  \n  // Registration states\n  const [email, setEmail] = useState(\"\");\n  const [isRegistering, setIsRegistering] = useState(false);\n  const [generatedPasscode, setGeneratedPasscode] = useState(\"\");\n  const [showPasscode, setShowPasscode] = useState(false);\n  \n  // Dynamic users (backup localStorage)\n  const [dynamicUsers, setDynamicUsers] = useState({});\n  const [googleSheetsStatus, setGoogleSheetsStatus] = useState(\"unknown\"); // \"working\", \"failed\", \"unknown\"\n\n  // Load registered users from localStorage on component mount (backup)\n  useEffect(() => {\n    const stored = localStorage.getItem('registeredUsers');\n    if (stored) {\n      try {\n        const users = JSON.parse(stored);\n        console.log(\"🔍 Loaded users from localStorage:\", users);\n        setDynamicUsers(users);\n      } catch (e) {\n        console.error(\"Error loading registered users:\", e);\n      }\n    }\n  }, []);\n\n  // Save registered users to localStorage (backup)\n  const saveRegisteredUsers = (users) => {\n    localStorage.setItem('registeredUsers', JSON.stringify(users));\n    setDynamicUsers(users);\n    console.log(\"💾 Saved users to localStorage:\", users);\n  };\n\n  // ========================================\n  // EMAIL SYSTEM FUNCTIONS\n  // ========================================\n\n  // Email service function\n  const sendCredentialEmails = async (email, username, password) => {\n    try {\n      const SEND_EMAIL_URL = window.location.hostname === \"localhost\"\n        ? \"http://localhost:8090/send-credentials\"\n        : \"https://journal-whisper.onrender.com/send-credentials\";\n\n      const response = await fetch(SEND_EMAIL_URL, {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({\n          email: email,\n          username: username,\n          password: password\n        }),\n      });\n\n      const result = await response.json();\n      \n      if (response.ok && result.success) {\n        console.log(\"✅ Credential emails scheduled successfully\");\n        return { success: true, message: result.message };\n      } else {\n        console.error(\"❌ Failed to send emails:\", result.error);\n        return { success: false, error: result.error };\n      }\n      \n    } catch (error) {\n      console.error(\"❌ Email service error:\", error);\n      return { success: false, error: error.message };\n    }\n  };\n\n  // Function to send emails to all registered users\n  const sendBulkCredentials = async () => {\n    try {\n      // Get users from localStorage\n      const stored = localStorage.getItem('registeredUsers');\n      const users = stored ? JSON.parse(stored) : {};\n      \n      // Format users for API\n      const userArray = Object.entries(users).map(([username, userData]) => ({\n        email: userData.email,\n        username: username,\n        password: userData.passcode\n      }));\n\n      if (userArray.length === 0) {\n        alert(\"No registered users found to send emails to.\");\n        return;\n      }\n\n      const BULK_EMAIL_URL = window.location.hostname === \"localhost\"\n        ? \"http://localhost:8090/send-bulk-credentials\"\n        : \"https://journal-whisper.onrender.com/send-bulk-credentials\";\n\n      console.log(`📧 Sending bulk emails to ${userArray.length} users...`);\n\n      const response = await fetch(BULK_EMAIL_URL, {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({ users: userArray }),\n      });\n\n      const result = await response.json();\n      \n      if (response.ok && result.success) {\n        console.log(\"✅ Bulk emails sent successfully:\", result);\n        alert(`✅ Bulk emails sent to ${userArray.length} users! Each user will receive their username immediately and password in 30 seconds.`);\n      } else {\n        console.error(\"❌ Bulk email failed:\", result);\n        alert(\"❌ Bulk email failed: \" + result.error);\n      }\n      \n    } catch (error) {\n      console.error(\"❌ Bulk email error:\", error);\n      alert(\"❌ Bulk email error: \" + error.message);\n    }\n  };\n\n  // Test email configuration\n  const testEmailConfiguration = async () => {\n    try {\n      const TEST_EMAIL_URL = window.location.hostname === \"localhost\"\n        ? \"http://localhost:8090/test-email\"\n        : \"https://journal-whisper.onrender.com/test-email\";\n\n      const response = await fetch(TEST_EMAIL_URL, {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n      });\n\n      const result = await response.json();\n      \n      if (response.ok && result.success) {\n        console.log(\"✅ Email configuration test passed\");\n        alert(\"✅ Email configuration is working!\");\n      } else {\n        console.error(\"❌ Email configuration test failed:\", result.error);\n        alert(\"❌ Email configuration failed: \" + result.error);\n      }\n      \n    } catch (error) {\n      console.error(\"❌ Email test error:\", error);\n      alert(\"❌ Email test error: \" + error.message);\n    }\n  };\n\n  const handleLogin = async (e) => {\n    e.preventDefault();\n    \n    console.log(\"🔍 Attempting login with username:\", username);\n    \n    // Step 1: Check hard-coded users first (fastest)\n    if (USERS[username] && USERS[username] === password) {\n      console.log(\"✅ Login successful with hard-coded user\");\n      setError(\"\");\n      onLogin(username);\n      return;\n    }\n    \n    // Step 2: Check localStorage registered users (fast backup)\n    if (dynamicUsers[username] && dynamicUsers[username].passcode === password) {\n      console.log(\"✅ Login successful with localStorage user\");\n      setError(\"\");\n      onLogin(username);\n      return;\n    }\n    \n    // Step 3: Check Google Sheets for registered users (if backend configured)\n    try {\n      console.log(\"🔍 Checking Google Sheets for user credentials...\");\n      \n      const LOGIN_CHECK_URL =\n        window.location.hostname === \"localhost\"\n          ? \"http://localhost:8090/checkUser\"\n          : \"https://journal-whisper.onrender.com/checkUser\";\n\n      const response = await fetch(LOGIN_CHECK_URL, {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({\n          username: username,\n          passcode: password\n        }),\n      });\n\n      if (response.ok) {\n        const result = await response.json();\n        if (result.success) {\n          console.log(\"✅ Login successful with Google Sheets user\");\n          setGoogleSheetsStatus(\"working\");\n          setError(\"\");\n          onLogin(username);\n          return;\n        } else {\n          console.log(\"❌ Invalid credentials in Google Sheets\");\n          setGoogleSheetsStatus(\"working\");\n        }\n      } else {\n        console.log(\"⚠️ Google Sheets backend error:\", response.status);\n        setGoogleSheetsStatus(\"failed\");\n      }\n      \n    } catch (error) {\n      console.log(\"⚠️ Backend login check failed:\", error.message);\n      setGoogleSheetsStatus(\"failed\");\n    }\n    \n    setError(\"Invalid username or password\");\n  };\n\n  // UPDATED: Registration function with email system integration\n  const handleRegister = async (e) => {\n    e.preventDefault();\n    setError(\"\");\n    setSuccess(\"\");\n\n    // Basic validation\n    if (!email) {\n      setError(\"Email is required\");\n      return;\n    }\n\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n    if (!emailRegex.test(email)) {\n      setError(\"Please enter a valid email address\");\n      return;\n    }\n\n    const existingUser = Object.keys(dynamicUsers).find(user => \n      dynamicUsers[user].email === email\n    );\n    if (existingUser) {\n      setError(\"Email already registered in local storage\");\n      return;\n    }\n\n    setIsRegistering(true);\n\n    try {\n      const timestamp = Date.now().toString().slice(-4);\n      const randomPrefix = Math.random().toString(36).substring(2, 6);\n      const newUsername = `user_${randomPrefix}${timestamp}`;\n      const newPasscode = generateRandomPasscode();\n\n      console.log(\"🎯 Generated credentials:\", { username: newUsername, passcode: newPasscode });\n\n      let backendSuccess = false;\n      let backendError = null;\n      \n      // Try to save to Google Sheets backend first\n      try {\n        const REGISTER_API_URL = window.location.hostname === \"localhost\"\n          ? \"http://localhost:8090/register\"\n          : \"https://journal-whisper.onrender.com/register\";\n\n        console.log(\"📤 Sending registration to Google Sheets...\");\n\n        const response = await fetch(REGISTER_API_URL, {\n          method: \"POST\",\n          headers: { \"Content-Type\": \"application/json\" },\n          body: JSON.stringify({\n            username: newUsername,\n            password: newPasscode,\n            email: email,\n            // REMOVED: fullName: email, (no longer needed)\n            registrationDate: new Date().toISOString(),\n          }),\n        });\n\n        if (response.ok) {\n          const result = await response.json();\n          if (result.success) {\n            console.log(\"✅ User saved to Google Sheets successfully\");\n            setGoogleSheetsStatus(\"working\");\n            backendSuccess = true;\n          } else {\n            console.log(\"❌ Google Sheets registration failed:\", result.error);\n            backendError = result.error;\n            setGoogleSheetsStatus(\"working\");\n            \n            if (result.error.includes(\"already exists\") || result.error.includes(\"already registered\")) {\n              setError(result.error);\n              return;\n            }\n          }\n        } else {\n          const errorData = await response.json().catch(() => ({ error: \"Unknown error\" }));\n          console.log(\"❌ Backend registration failed with status:\", response.status);\n          backendError = errorData.error || `Server error: ${response.status}`;\n          setGoogleSheetsStatus(\"failed\");\n        }\n      } catch (backendErrorCatch) {\n        console.log(\"⚠️ Backend not available for registration:\", backendErrorCatch.message);\n        setGoogleSheetsStatus(\"failed\");\n        backendError = \"Backend service unavailable\";\n      }\n\n      // Always save to localStorage as backup\n      const updatedUsers = {\n        ...dynamicUsers,\n        [newUsername]: {\n          passcode: newPasscode,\n          email: email,\n          registrationDate: new Date().toISOString()\n        }\n      };\n      \n      saveRegisteredUsers(updatedUsers);\n\n      // 🆕 NEW: Try to send credential emails\n      console.log(\"📧 Attempting to send credential emails...\");\n      const emailResult = await sendCredentialEmails(email, newUsername, newPasscode);\n      \n      if (emailResult.success) {\n        // ✅ Email sent successfully - don't show credentials on screen for security\n        setSuccess(`✅ Account created successfully! Your username and password have been sent to ${email} in separate emails. Check your inbox now!`);\n        setEmail(\"\");\n        \n        // Don't show credentials on screen for security\n        setShowPasscode(false);\n        setGeneratedPasscode(\"\");\n        setUsername(\"\");\n        \n      } else {\n        // ❌ Email failed - show credentials on screen as backup\n        console.log(\"❌ Email sending failed, showing credentials on screen\");\n        setGeneratedPasscode(newPasscode);\n        setUsername(newUsername);\n        setShowPasscode(true);\n        \n        let storageMethod;\n        if (backendSuccess) {\n          storageMethod = \"Google Sheets and localStorage backup\";\n        } else {\n          storageMethod = `localStorage only (${backendError || \"backend unavailable\"})`;\n        }\n        \n        setSuccess(`✅ Account created and saved to ${storageMethod}. ⚠️ Email sending failed (${emailResult.error}), so please save the credentials shown below.`);\n        setEmail(\"\");\n      }\n\n      console.log(\"✅ Registration completed successfully\");\n\n    } catch (error) {\n      console.error(\"Registration error:\", error);\n      setError(\"Registration failed: \" + error.message);\n    } finally {\n      setIsRegistering(false);\n    }\n  };\n\n  const switchMode = () => {\n    setMode(mode === \"login\" ? \"register\" : \"login\");\n    setError(\"\");\n    setSuccess(\"\");\n    setUsername(\"\");\n    setPassword(\"\");\n    setEmail(\"\");\n    setGeneratedPasscode(\"\");\n    setShowPasscode(false);\n  };\n\n  const copyToClipboard = (text) => {\n    navigator.clipboard.writeText(text).then(() => {\n      alert(\"Copied to clipboard!\");\n    }).catch(() => {\n      alert(\"Please manually copy the text\");\n    });\n  };\n\n  // Get status indicator for Google Sheets\n  const getBackendStatusIndicator = () => {\n    switch(googleSheetsStatus) {\n      case \"working\":\n        return \"🟢 Google Sheets Connected\";\n      case \"failed\":\n        return \"🟡 Using Local Storage Only\";\n      default:\n        return \"⚪ Backend Status Unknown\";\n    }\n  };\n\n  // Admin Panel Component for email testing\n  const AdminPanel = () => (\n    <div style={{\n      marginTop: \"1rem\",\n      padding: \"1rem\",\n      backgroundColor: \"#f9f9f9\",\n      borderRadius: \"6px\",\n      fontSize: \"0.85rem\"\n    }}>\n      <div style={{ fontWeight: \"bold\", marginBottom: \"0.5rem\" }}>\n        🔧 Admin Tools:\n      </div>\n      <button\n        onClick={testEmailConfiguration}\n        style={{\n          margin: \"0.25rem\",\n          padding: \"0.5rem 1rem\",\n          backgroundColor: \"#2196f3\",\n          color: \"white\",\n          border: \"none\",\n          borderRadius: \"4px\",\n          cursor: \"pointer\",\n          fontSize: \"0.8rem\"\n        }}\n      >\n        Test Email Config\n      </button>\n      <button\n        onClick={sendBulkCredentials}\n        style={{\n          margin: \"0.25rem\",\n          padding: \"0.5rem 1rem\",\n          backgroundColor: \"#ff9800\",\n          color: \"white\",\n          border: \"none\",\n          borderRadius: \"4px\",\n          cursor: \"pointer\",\n          fontSize: \"0.8rem\"\n        }}\n      >\n        Send Bulk Emails to All Users\n      </button>\n    </div>\n  );\n\n  return (\n    <div\n      style={{\n        maxWidth: 420,\n        margin: \"3rem auto\",\n        padding: \"2rem\",\n        fontFamily: \"sans-serif\",\n        backgroundColor: \"#fff\",\n        borderRadius: \"12px\",\n        boxShadow: \"0 4px 20px rgba(0,0,0,0.1)\",\n      }}\n    >\n      <h2 style={{ textAlign: \"center\", marginBottom: \"2rem\", color: \"#333\" }}>\n        {mode === \"login\" ? \"🔐 Journal Login\" : \"📝 Create New Account\"}\n      </h2>\n\n      {/* Backend Status Indicator */}\n      {googleSheetsStatus !== \"unknown\" && (\n        <div style={{\n          textAlign: \"center\",\n          fontSize: \"0.8rem\",\n          marginBottom: \"1rem\",\n          padding: \"0.5rem\",\n          backgroundColor: googleSheetsStatus === \"working\" ? \"#e8f5e8\" : \"#fff3cd\",\n          borderRadius: \"4px\",\n          border: `1px solid ${googleSheetsStatus === \"working\" ? \"#c8e6c9\" : \"#ffeaa7\"}`\n        }}>\n          {getBackendStatusIndicator()}\n        </div>\n      )}\n\n      {mode === \"login\" ? (\n        // LOGIN FORM\n        <form onSubmit={handleLogin}>\n          <div style={{ marginBottom: \"1rem\" }}>\n            <label style={{ display: \"block\", marginBottom: \"0.5rem\", fontWeight: \"bold\" }}>\n              Username:\n            </label>\n            <input\n              type=\"text\"\n              value={username}\n              onChange={(e) => setUsername(e.target.value)}\n              autoComplete=\"username\"\n              required\n              style={{\n                width: \"100%\",\n                padding: \"0.75rem\",\n                borderRadius: \"6px\",\n                border: \"1px solid #ddd\",\n                fontSize: \"1rem\",\n                boxSizing: \"border-box\",\n              }}\n              placeholder=\"Enter your username\"\n            />\n          </div>\n\n          <div style={{ marginBottom: \"1.5rem\" }}>\n            <label style={{ display: \"block\", marginBottom: \"0.5rem\", fontWeight: \"bold\" }}>\n              Password/Passcode:\n            </label>\n            <input\n              type=\"password\"\n              value={password}\n              onChange={(e) => setPassword(e.target.value)}\n              autoComplete=\"current-password\"\n              required\n              style={{\n                width: \"100%\",\n                padding: \"0.75rem\",\n                borderRadius: \"6px\",\n                border: \"1px solid #ddd\",\n                fontSize: \"1rem\",\n                boxSizing: \"border-box\",\n              }}\n              placeholder=\"Enter your password/passcode\"\n            />\n          </div>\n\n          <button\n            type=\"submit\"\n            style={{\n              width: \"100%\",\n              padding: \"0.75rem\",\n              backgroundColor: \"#4CAF50\",\n              color: \"white\",\n              border: \"none\",\n              fontSize: \"1rem\",\n              cursor: \"pointer\",\n              borderRadius: \"6px\",\n              fontWeight: \"bold\",\n              marginBottom: \"1rem\",\n            }}\n          >\n            Login\n          </button>\n        </form>\n      ) : (\n        // REGISTRATION FORM\n        <form onSubmit={handleRegister}>\n          <div style={{ marginBottom: \"1.5rem\" }}>\n            <label style={{ display: \"block\", marginBottom: \"0.5rem\", fontWeight: \"bold\" }}>\n              Email Address:\n            </label>\n            <input\n              type=\"email\"\n              value={email}\n              onChange={(e) => setEmail(e.target.value)}\n              required\n              style={{\n                width: \"100%\",\n                padding: \"0.75rem\",\n                borderRadius: \"6px\",\n                border: \"1px solid #ddd\",\n                fontSize: \"1rem\",\n                boxSizing: \"border-box\",\n              }}\n              placeholder=\"Enter your email address\"\n            />\n            <div style={{ fontSize: \"0.8rem\", color: \"#666\", marginTop: \"0.3rem\" }}>\n              We'll generate a username and passcode for you\n            </div>\n          </div>\n\n          <button\n            type=\"submit\"\n            disabled={isRegistering}\n            style={{\n              width: \"100%\",\n              padding: \"0.75rem\",\n              backgroundColor: isRegistering ? \"#cccccc\" : \"#2196f3\",\n              color: \"white\",\n              border: \"none\",\n              fontSize: \"1rem\",\n              cursor: isRegistering ? \"not-allowed\" : \"pointer\",\n              borderRadius: \"6px\",\n              fontWeight: \"bold\",\n              marginBottom: \"1rem\",\n            }}\n          >\n            {isRegistering ? \"Creating Account...\" : \"Create Account\"}\n          </button>\n        </form>\n      )}\n\n      {/* Generated Credentials Display */}\n      {showPasscode && generatedPasscode && (\n        <div style={{\n          backgroundColor: \"#e8f5e8\",\n          border: \"2px solid #4CAF50\",\n          borderRadius: \"8px\",\n          padding: \"1.5rem\",\n          marginBottom: \"1rem\",\n        }}>\n          <h3 style={{ margin: \"0 0 1rem 0\", color: \"#2e7d32\", textAlign: \"center\" }}>\n            🎉 Account Created Successfully!\n          </h3>\n          \n          <div style={{ marginBottom: \"1rem\" }}>\n            <strong>Username:</strong>\n            <div style={{ \n              backgroundColor: \"white\", \n              padding: \"0.5rem\", \n              borderRadius: \"4px\", \n              fontFamily: \"monospace\",\n              display: \"flex\",\n              justifyContent: \"space-between\",\n              alignItems: \"center\",\n              marginTop: \"0.3rem\"\n            }}>\n              <span>{username}</span>\n              <button \n                onClick={() => copyToClipboard(username)}\n                style={{\n                  background: \"none\",\n                  border: \"1px solid #ccc\",\n                  borderRadius: \"4px\",\n                  padding: \"0.2rem 0.5rem\",\n                  cursor: \"pointer\",\n                  fontSize: \"0.8rem\"\n                }}\n              >\n                Copy\n              </button>\n            </div>\n          </div>\n\n          <div style={{ marginBottom: \"1rem\" }}>\n            <strong>Passcode:</strong>\n            <div style={{ \n              backgroundColor: \"white\", \n              padding: \"0.5rem\", \n              borderRadius: \"4px\", \n              fontFamily: \"monospace\",\n              display: \"flex\",\n              justifyContent: \"space-between\",\n              alignItems: \"center\",\n              marginTop: \"0.3rem\"\n            }}>\n              <span style={{ fontSize: \"1.1rem\", fontWeight: \"bold\" }}>{generatedPasscode}</span>\n              <button \n                onClick={() => copyToClipboard(generatedPasscode)}\n                style={{\n                  background: \"none\",\n                  border: \"1px solid #ccc\",\n                  borderRadius: \"4px\",\n                  padding: \"0.2rem 0.5rem\",\n                  cursor: \"pointer\",\n                  fontSize: \"0.8rem\"\n                }}\n              >\n                Copy\n              </button>\n            </div>\n          </div>\n\n          <div style={{ \n            fontSize: \"0.85rem\", \n            color: \"#d32f2f\", \n            backgroundColor: \"#ffebee\",\n            padding: \"0.75rem\",\n            borderRadius: \"4px\",\n            border: \"1px solid #ffcdd2\",\n            textAlign: \"center\"\n          }}>\n            ⚠️ <strong>IMPORTANT:</strong> Save your username and passcode now! \n            <br/>You'll need them to login to your journal.\n            <br/><strong>Email sending failed - these credentials are shown as backup.</strong>\n          </div>\n\n          <button\n            onClick={() => {\n              setMode(\"login\");\n              setShowPasscode(false);\n              setPassword(\"\");\n            }}\n            style={{\n              width: \"100%\",\n              padding: \"0.75rem\",\n              backgroundColor: \"#4CAF50\",\n              color: \"white\",\n              border: \"none\",\n              fontSize: \"1rem\",\n              cursor: \"pointer\",\n              borderRadius: \"6px\",\n              fontWeight: \"bold\",\n              marginTop: \"1rem\",\n            }}\n          >\n            Continue to Login\n          </button>\n        </div>\n      )}\n\n      {/* Error and Success Messages */}\n      {error && (\n        <div style={{ \n          color: \"#d32f2f\", \n          marginBottom: \"1rem\", \n          textAlign: \"center\",\n          backgroundColor: \"#ffebee\",\n          padding: \"0.75rem\",\n          borderRadius: \"6px\",\n          border: \"1px solid #ffcdd2\"\n        }}>\n          ⚠️ {error}\n        </div>\n      )}\n\n      {success && !showPasscode && (\n        <div style={{ \n          color: \"#2e7d32\", \n          marginBottom: \"1rem\", \n          textAlign: \"center\",\n          backgroundColor: \"#e8f5e8\",\n          padding: \"0.75rem\",\n          borderRadius: \"6px\",\n          border: \"1px solid #c8e6c9\"\n        }}>\n          ✅ {success}\n        </div>\n      )}\n\n      {/* Mode Switch Button */}\n      {!showPasscode && (\n        <div style={{ textAlign: \"center\", marginTop: \"1rem\" }}>\n          <button\n            onClick={switchMode}\n            style={{\n              background: \"none\",\n              border: \"none\",\n              color: \"#2196f3\",\n              cursor: \"pointer\",\n              textDecoration: \"underline\",\n              fontSize: \"0.9rem\",\n            }}\n          >\n            {mode === \"login\" \n              ? \"New user? Create account with email\" \n              : \"Have an account? Login here\"}\n          </button>\n        </div>\n      )}\n\n      {/* Enhanced Debug Info */}\n      <div style={{\n        marginTop: \"2rem\",\n        padding: \"1rem\",\n        backgroundColor: \"#f0f0f0\",\n        borderRadius: \"6px\",\n        fontSize: \"0.8rem\",\n        color: \"#666\"\n      }}>\n        <div style={{ fontWeight: \"bold\", marginBottom: \"0.5rem\" }}>\n          🔍 System Status:\n        </div>\n        <div>\n          Hard-coded users: {Object.keys(USERS).length}<br/>\n          Registered users: {Object.keys(dynamicUsers).length}<br/>\n          Backend status: {getBackendStatusIndicator()}<br/>\n          {Object.keys(dynamicUsers).length > 0 && (\n            <div>Last registered: {Object.keys(dynamicUsers)[Object.keys(dynamicUsers).length - 1]}</div>\n          )}\n        </div>\n      </div>\n\n      {/* Login Method Info */}\n      <div style={{\n        marginTop: \"1rem\",\n        padding: \"1rem\",\n        backgroundColor: \"#f5f5f5\",\n        borderRadius: \"6px\",\n        fontSize: \"0.85rem\",\n        color: \"#666\"\n      }}>\n        <div style={{ fontWeight: \"bold\", marginBottom: \"0.5rem\" }}>\n          🔐 Login Methods:\n        </div>\n        <div>\n          1. <strong>Hard-coded users</strong> (user1-user20)<br/>\n          2. <strong>Local registered users</strong> (this browser only)<br/>\n          3. <strong>Google Sheets users</strong> (accessible anywhere)\n          {googleSheetsStatus === \"failed\" && (\n            <div style={{ color: \"#d32f2f\", marginTop: \"0.5rem\" }}>\n              ⚠️ Google Sheets backend not available - using local storage only\n            </div>\n          )}\n        </div>\n      </div>\n\n      {/* NEW: Admin Panel for Email Testing */}\n      <AdminPanel />\n    </div>\n  );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}